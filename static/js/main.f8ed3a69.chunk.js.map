{"version":3,"sources":["store/selectors.js","hooks/useActions.js","store/actions/toaster.js","hooks/useToast.js","services/api/user.js","services/api/assignment.js","services/api/wip.js","services/api/dashboard.js","services/api/index.js","store/actions/auth.js","store/actions/wip.js","store/actions/assignment.js","store/actions/modals.js","store/actions/dashboard.js","store/index.js","theme/index.js","components/forms/FormInput.js","components/core/TextButton.js","components/forms/useForm.js","components/auth/Layout.js","components/auth/Login.js","components/auth/Register.js","components/core/PageWidth.js","assets/logos/ballotnav.svg","components/core/Header/Top/UserRight.js","components/core/Header/Top/AuthRight.js","components/core/Header/Top/index.js","components/core/Header/Tabs/PermanentTabs.js","components/core/Header/Tabs/JurisdictionTabs.js","components/core/Header/Tabs/index.js","components/core/Header/index.js","components/core/Layout.js","components/routers/Auth.js","components/core/LastUpdated.js","components/core/SearchBox.js","components/core/JurisdictionStatus.js","components/core/Table/SortIndicator.js","components/core/Table/HeaderRow.js","components/core/Table/CollapseToggle.js","components/core/Table/CollapsibleRows.js","components/core/Table/Rows.js","components/core/Table/Controls.js","components/core/Table/Table.js","components/core/Table/index.js","components/core/LinkButton.js","components/WipEditor/SelectWip/Table.js","components/WipEditor/SelectWip/index.js","components/forms/schemas/jurisdiction.js","components/forms/JurisdictionForm.js","services/utils.js","components/core/Tabs.js","components/WipEditor/EditWip/JurisdictionDetails/Submodels/AddButton.js","components/WipEditor/EditWip/JurisdictionDetails/Submodels/LocationCheckboxes.js","const/index.js","components/WipEditor/EditWip/JurisdictionDetails/Submodels/models.js","components/WipEditor/EditWip/JurisdictionDetails/Submodels/index.js","components/WipEditor/EditWip/Footer.js","components/WipEditor/EditWip/JurisdictionDetails/index.js","components/forms/schemas/_common.js","components/forms/schemas/location.js","components/forms/LocationForm.js","components/WipEditor/EditWip/EditLocation/Interview.js","components/WipEditor/EditWip/EditLocation/index.js","components/WipEditor/EditWip/index.js","components/WipEditor/index.js","components/routers/Volunteer.js","components/admin/AdminDashboard/Stats.js","components/admin/AdminDashboard/Jurisdictions.js","services/mapbox.js","components/admin/AdminDashboard/Map/config.js","components/admin/AdminDashboard/Map/geoUtils.js","components/admin/AdminDashboard/Map/hooks.js","components/admin/AdminDashboard/Map/population.js","components/admin/AdminDashboard/Map/Sidebar.js","components/core/Checkbox.js","components/admin/AdminDashboard/Map/Layers.js","components/core/ColoredCheckbox.js","components/admin/AdminDashboard/Map/TimeSinceUpdate.js","components/admin/AdminDashboard/Map/Enhancers.js","components/admin/AdminDashboard/Map/index.js","components/modals/MapModal.js","components/admin/AdminDashboard/Map2/config.js","components/admin/AdminDashboard/Map2/geoUtils.js","components/admin/AdminDashboard/Map2/useAddStates.js","components/admin/AdminDashboard/Map2/useAddCounties.js","components/admin/AdminDashboard/Map2/RegionName.js","components/admin/AdminDashboard/Map2/index.js","components/admin/AdminDashboard/Map2/useInitMap.js","components/modals/Map2Modal.js","components/admin/AdminDashboard/index.js","components/admin/AssignJurisdictions/TransferList.js","components/admin/AssignJurisdictions/Select.js","components/admin/AssignJurisdictions/index.js","components/routers/Admin.js","components/App.js","index.js"],"names":["auth","state","role","user","isVolunteer","isAdmin","wipList","wip","wips","jurisdictionTabs","tabs","toaster","assignment","modals","dashboard","useAuth","useSelector","useRole","useWipList","useWips","useDashboard","useWip","jid","useWipListItem","find","jurisdictionId","useModal","modalId","useActions","actions","dispatch","useDispatch","useMemo","bindActionCreators","types","toast","config","type","data","bind","toastContext","createContext","defaultConfig","message","severity","autoHideDuration","anchorOrigin","vertical","horizontal","useStyles","makeStyles","theme","root","pointerEvents","ToastProvider","children","classes","useState","open","setOpen","selectedConfig","useEffect","doToast","useCallback","handleClose","event","reason","Snackbar","onClose","Alert","elevation","variant","Provider","value","useToast","useContext","BASE_URL","process","getUser","a","axios","get","response","login","email","password","body","post","sessionStorage","setItem","token","Promise","reject","register","firstName","lastName","notes","slackName","logout","removeItem","listAllJurisdictions","listAllVolunteers","assignJurisdictions","userId","jurisdictionIds","removedJurisdictionIds","getJurisdiction","url","updateJurisdiction","wipJurisdictionId","importantDates","forEach","importantDate","beginDate","beginTime","endDate","endTime","locations","location","scheduleType","scheduleDescription","hours","continuousOpenDate","continuousCloseDate","continuousOpenTime","continuousCloseTime","put","releaseJurisdiction","listReleasedJurisdictions","listMyJurisdictions","getReleasedJurisdiction","publishJurisdiction","getJurisdictions","interceptors","request","use","getItem","headers","error","status","api","GET_USER","LOGIN","REGISTER","LOGOUT","duplicateEmail","emailNotFound","passwordInvalid","initialState","authChecked","listWips","getState","getWip","list","wipListItem","updateWip","id","name","releaseWip","publishWip","openTab","closeTab","getAssignment","all","jurisdictions","volunteers","map","isOpen","params","map2","openModal","closeModal","jur","geojson","JSON","parse","appReducer","combineReducers","action","SUBMIT","isSubmitting","CLEAR_SUBMIT","filter","store","createStore","authTypes","undefined","composeWithDevTools","applyMiddleware","thunk","createMuiTheme","palette","primary","main","dark","light","secondary","link","background","default","divider","locationMarkers","selected","jurisdictionStatuses","text","Published","typography","fontFamily","breakpoints","values","mobile","desktop","layout","pageWidth","overrides","MuiCssBaseline","textDecoration","margin","padding","content","position","top","right","color","fontWeight","FormInput","select","options","rest","className","TextField","opt","MenuItem","dense","label","common","textTransform","small","fontSize","borderRadius","medium","large","xLarge","visibility","isLoading","cursor","loader","bottom","left","display","justifyContent","alignItems","TextButton","size","disabled","Button","clsx","CircularProgress","useForm","schema","initialValues","rawInitialValues","rawOnSubmit","onSubmit","inputDefaults","buttonDefaults","trackChanges","Object","keys","field","defaultValue","getInitialValues","submittableValues","getSubmittableValues","validationSchema","validators","validate","Yup","getValidationSchema","form","useFormik","enableReinitialize","validateOnChange","changed","currentValues","changedValues","getChangedValues","makeInput","date","touched","errors","handleChange","input","fullWidth","moment","utc","format","onChange","helperText","InputLabelProps","shrink","makeSubmitButton","requireDirty","buttonProps","onClick","handleSubmit","dirty","makeResetButton","handleReset","maxWidth","textAlign","title","marginBottom","Layout","required","autoFocus","min","Login","useAuthActions","to","passwordConfirm","oneOf","Register","Grid","container","spacing","item","xs","width","PageWidth","style","UserRight","white","active","AuthRight","activeClassName","logo","height","HeaderTop","isAuth","src","bnLogo","alt","userSelect","tab","marginRight","whiteSpace","backgroundColor","PermanentTabs","useLocation","pathname","minWidth","borderTopLeftRadius","borderTopRightRadius","opacity","textOverflow","overflow","closeButton","marginLeft","JurisdictionTabs","history","useHistory","useWipActions","match","useRouteMatch","selectedJid","includes","jurisdiction","juris","onCloseTab","isSelected","push","clx","close","VOLUNTEER_TABS","ADMIN_TABS","Tabs","inner","flexDirection","Header","Top","minHeight","Auth","exact","path","component","lastUpdated","LastUpdated","updatedAt","onUpdate","IconButton","flex","border","outline","Search","placeholder","e","target","JurisdictionStatus","SortIndicator","direction","viewBox","fillOpacity","points","HeaderRow","columns","sortCol","sortDirection","column","index","sort","isSortCol","handleClick","toString","button","transform","icon","CollapseToggle","isUncollapsed","CollapsibleRows","keyExtractor","collapse","uncollapsed","setUncollapsed","toggleCollapsed","key","el","row","render","isLastCol","length","colSpan","overflowY","Rows","density","pager","ROWS_PER_PAGE_OPTIONS","TableControls","rowCount","pageIndex","onChangePageIndex","rowsPerPage","onChangeRowsPerPage","onChangeDense","handleChangeDense","val","handleChangePage","handleChangeRowsPerPage","labelDisplayedRows","from","count","page","Math","floor","Switch","checked","TablePagination","onChangePage","rowsPerPageOptions","SelectProps","native","table","borderCollapse","tableLayout","borderBottom","Table","setDense","setSortCol","setSortDirection","setPageIndex","setRowsPerPage","findIndex","col","sortedData","sortFunc","b","sorted","reverse","pagedData","start","end","slice","handleColumnClick","colIndex","dir","emptyRows","Controls","LinkButton","COLUMNS","indexOf","_","EXTRA_ADMIN_COLUMNS","WipTable","splice","j","paddingBottom","header","searchBox","WipList","setFilter","filteredWips","cleanFilter","trim","regex","RegExp","test","jurisdictionName","stateName","Date","now","SearchBox","authorityName","mailAddress1","mailAddress2","mailAddress3","internalNotes","multiline","rows","JurisdictionForm","wipJurisdiction","justify","identity","x","paddingRight","activeTab","activeTitle","renderTitle","isActive","AddButton","BOXES","borderRight","borderLeft","check","isChecked","notChecked","visiblity","LocationCheckboxes","phoneNumberTypes","1","2","3","importantDateTypes","4","EditButton","models","phoneNumberTypeId","importantDateTypeId","Submodels","activeModel","setActiveModel","model","Footer","setIsSubmitting","submit","isReleased","headerLeft","detailsToggle","details","showDetails","JurisdictionDetails","setShowDetails","jurisdictionStatus","refreshWip","toggleDetails","onSubmitJurisdiction","ynuSelect","address1","address2","address3","city","zip","contactName","contactPhone","contactEmail","isDriveup","isDropBox","isEarlyDropoffLocation","isEarlyVotingLocation","isElectionsOffice","isHandicapAccessible","isOutdoors","isPollingLocation","isStaffedLocation","section","borderRightWidth","address","contact","LocationForm","wipLocation","paddingTop","Interview","backButton","locationHeader","locationName","EditLocation","lid","isNew","loc","onSubmitLocation","goBack","EditWip","WipEditor","SelectWip","Volunteer","JurisdictionStats","useModalActions","ASSIGN_FILTERS","jdxs","userJurisdictions","Jurisdictions","assignFilter","setAssignFilter","textFilter","setTextFilter","filteredJurisdictions","filtered","cleanTextFilter","mapboxgl","accessToken","styleUrl","CONTINENTAL_US","FIT_BOUNDS_OPTIONS","BOUNDARY_SOURCE_ID","BOUNDARY_LAYER_FILL_ID","BOUNDARY_LAYER_LINE_ID","LOCATION_SOURCE_ID","LOCATION_LAYER_ID","boundingBox","geo","bbox","useAddBoundaryHover","onChangeHoveredRegion","hoveredRegionId","onMouseMove","region","features","setFeatureState","source","hover","setHoveredRegion","getCanvas","onMouseLeave","on","off","population","fontStyle","Sidebar","selectedRegionId","useDashboardActions","numLocations","populationByCounty","reduce","total","next","svg","outer","stroke","strokeWidth","fill","Checkbox","stopPropagation","r","cx","cy","checkbox","Layers","layers","setLayers","layer","visible","TimeSinceUpdate","updateLayer","setUpdateLayer","togglePeriod","period","p","ColoredCheckbox","UPDATE_LAYER","stop","LAYERS","timeSinceUpdate","Enhancers","setHoveredRegionId","addSource","addLayer","paint","removeLayer","removeSource","useAddBoundary","useAddLocation","boundaries","properties","duration","diff","asDays","geometry","getSource","setData","fitBounds","useAddBoundaryZoom","useAddBoundaryClick","coordinates","geomLongitude","geomLatitude","useAddLocations","onMouseEnter","console","log","useAddLocationHover","setLayoutProperty","steps","getStepExpression","setPaintProperty","Map","mapContainer","useRef","setMap","current","bounds","fitBoundsOptions","ref","zIndex","MapModal","Dialog","fullScreen","SOURCE_ID","black","RegionName","regionName","noop","statefp","setStatefp","setRegionName","useInitMap","states","statesData","s","once","useAddStates","setCountyfp","counties","countyfp","loadCounties","useAddCounties","Map2","AdminDashboard","useAssignmentActions","transformed","Stats","Map2Modal","cardHeader","maxHeight","paper","not","itemA","some","itemB","intersection","TransferList","leftTitle","rightTitle","rightItems","leftItems","onTransferLeft","onTransferRight","setChecked","handleToggle","currentIndex","i","newChecked","numberOfChecked","items","handleToggleAll","customList","subheader","Card","CardHeader","avatar","inputProps","Divider","List","labelId","primaryText","ListItem","ListItemIcon","tabIndex","disableRipple","ListItemText","secondaryText","leftChecked","newLeft","concat","aria-label","rightChecked","newRight","menuItem","SimpleSelect","React","setSelected","labelText","idx","headerTitle","gridContainer","gridItem","card","marginTop","cardContent","saveButton","cardActions","sortByPropertyAsc","property","localeCompare","AssignJurisdictions","loaded","setLoaded","setStates","setJurisdictions","jurisdictionsByState","setJurisdictionsByState","setVolunteers","selectedVolunteer","setSelectedVolunteer","selectedState","setSelectedState","assigned","setAssigned","unassigned","setUnassigned","submitting","setSubmitting","isSubscribed","then","acc","volunteer","jdxByState","jdx","newJdx","stateId","stateAbbrev","abbreviation","jdxState","CardContent","Typography","align","CardActions","userJurisdictionIds","results","successMessage","created","removed","Admin","App","ReactDOM","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.f8ed3a69.chunk.js","sourcesContent":["import { useSelector } from 'react-redux'\n// import { createSelector } from 'reselect'\n\n////////////// SIMPLE /////////////\n\nexport const auth = (state) => state.auth\nexport const role = (state) => ({\n  role: state.auth.user?.role,\n  isVolunteer: state.auth.user?.role === 'volunteer',\n  isAdmin: state.auth.user?.role === 'admin',\n})\n\nexport const wipList = (state) => state.wip.wipList\nexport const wips = (state) => state.wip.wips\nexport const jurisdictionTabs = (state) => state.wip.tabs\n\nexport const toaster = (state) => state.toaster\nexport const assignment = (state) => state.assignment\nexport const modals = (state) => state.modals\nexport const dashboard = (state) => state.dashboard\n\n//////////// USE SELECTOR /////////\n\nexport const useAuth = () => useSelector(auth)\nexport const useRole = () => useSelector(role)\n\nexport const useWipList = () => useSelector(wipList)\nexport const useWips = () => useSelector(wips)\nexport const useJurisdictionTabs = () => useSelector(jurisdictionTabs)\n\nexport const useToaster = () => useSelector(toaster)\nexport const useAssignment = () => useSelector(assignment)\nexport const useModals = () => useSelector(modals)\nexport const useDashboard = () => useSelector(dashboard)\n\n///// PARAMATERIZED USE SELECTOR ///\n\nexport const useWip = (jid) => useWips()[jid]\nexport const useWipListItem = (jid) => {\n  return useWipList().find((wip) => wip.jurisdictionId === +jid)\n}\nexport const useModal = (modalId) => useModals()[modalId]\n","import { bindActionCreators } from 'redux'\nimport { useDispatch } from 'react-redux'\nimport { useMemo } from 'react'\n\nexport default function useActions(actions) {\n  const dispatch = useDispatch()\n  return useMemo(() => {\n    return bindActionCreators(actions, dispatch)\n  }, [dispatch, actions])\n}\n","import useActions from 'hooks/useActions'\n\nexport const types = {\n  TOAST: 'toaster/TOAST',\n}\n\nexport const toast = (config) => ({\n  type: types.TOAST,\n  data: config,\n})\n\nexport default useActions.bind(null, {\n  toast,\n})\n\nconst initialState = null\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.TOAST:\n      return action.data\n    default:\n      return state\n  }\n}\n","/*\nNOTE: the toast function can be invoked in two ways:\n\n  1. in an action creator\n    import { toast } from 'store/actions/toaster'\n    ...\n    dispatch(toast(config))\n\n  2. in a component\n    import { useToast } from 'hooks/useToast'\n    ...\n    const toast = useToast()\n    toast(config)\n\n  Either way, an action is dispatched and the config ends up in the store.\n*/\n\nimport React, {\n  useState,\n  useContext,\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n} from 'react'\nimport { Snackbar } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useDispatch } from 'react-redux'\nimport { useToaster } from 'store/selectors'\nimport { toast } from 'store/actions/toaster'\n\nconst toastContext = createContext()\n\nconst defaultConfig = {\n  message: null,\n  severity: 'success', // success, warning, info, error\n  autoHideDuration: 5000,\n  anchorOrigin: { vertical: 'bottom', horizontal: 'center' },\n}\n\n// without this, container blocks clicks on other elements\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    pointerEvents: 'none',\n    '& .MuiPaper-root': {\n      pointerEvents: 'all',\n    },\n  },\n}))\n\nexport function ToastProvider({ children }) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const [open, setOpen] = useState(false)\n  const selectedConfig = useToaster()\n\n  useEffect(() => {\n    if (selectedConfig) setOpen(true)\n  }, [selectedConfig])\n\n  const doToast = useCallback(\n    (config) => {\n      dispatch(toast(config))\n    },\n    [dispatch]\n  )\n\n  const handleClose = useCallback((event, reason) => {\n    if (reason === 'clickaway') return\n    setOpen(false)\n  }, [])\n\n  const config = useMemo(\n    () => ({\n      ...defaultConfig,\n      ...selectedConfig,\n    }),\n    [selectedConfig]\n  )\n\n  return (\n    <>\n      <Snackbar\n        classes={classes}\n        open={open}\n        onClose={handleClose}\n        anchorOrigin={config.anchorOrigin}\n        autoHideDuration={config.autoHideDuration}\n      >\n        <Alert\n          severity={config.severity}\n          elevation={6}\n          variant=\"filled\"\n          onClose={handleClose}\n        >\n          {config.message}\n        </Alert>\n      </Snackbar>\n      <toastContext.Provider value={doToast}>{children}</toastContext.Provider>\n    </>\n  )\n}\n\nconst useToast = () => {\n  return useContext(toastContext)\n}\n\nexport default useToast\n","import axios from 'axios'\n\nconst BASE_URL = `${process.env.REACT_APP_API_URL}/admin/user`\n\nexport const getUser = async () => {\n  try {\n    const response = await axios.get(`${BASE_URL}/me`)\n    return response.data\n  } catch (err) {\n    return null\n  }\n}\n\nexport const login = async ({ email, password }) => {\n  const body = { email, password }\n  try {\n    const response = await axios.post(BASE_URL + '/login', body)\n    await sessionStorage.setItem('token', response.data.token)\n    return response.data\n  } catch (err) {\n    return Promise.reject(err.response.data)\n  }\n}\n\nexport const register = async ({\n  firstName,\n  lastName,\n  email,\n  password,\n  notes,\n  slackName,\n}) => {\n  const body = { firstName, lastName, email, password, notes, slackName }\n  try {\n    const response = await axios.post(BASE_URL + '/register', body)\n    await sessionStorage.setItem('token', response.data.token)\n    return response.data\n  } catch (err) {\n    return Promise.reject(err.response.data)\n  }\n}\n\nexport const logout = async () => {\n  await sessionStorage.removeItem('token')\n  return null\n}\n\n// export const getAll = async () => {\n//   const response = await axios.get(BASE_URL)\n//   return response.user\n// }\n//\n// export const resendConfirmationEmail = async (email) => {\n//   const body = { email }\n//   const response = await axios.post(BASE_URL + '/resendConfirmationEmail', body)\n//   return response.data\n// }\n//\n// export const forgotPassword = async (email) => {\n//   const body = { email }\n//   const response = await axios.post(BASE_URL + '/forgotPassword', body)\n//   return response.data\n// }\n//\n// export const resetPassword = async (token, password) => {\n//   const body = { token, password }\n//   const response = await axios.post(BASE_URL + '/resetPassword', body)\n//   return response.data\n// }\n//\n// export const confirmRegister = async (token) => {\n//   const body = { token }\n//   const response = await axios.post(BASE_URL + '/confirmRegister', body)\n//   return response.data\n// }\n//\n//\n//\n// export const logout = async () => {\n//   const response = await axios.get(BASE_URL + '/logout')\n//   await sessionStorage.deleteItem('token')\n//   return response.data\n// }\n//\n// // This is used to updated login table with the specified permissionName column set to value\n// // i.e. is_admin, is_security_admin, is_data_entry\n// export const setPermissions = async (userId, permissionName, value) => {\n//   const body = { userId, permissionName, value }\n//   try {\n//     const response = await axios.post(BASE_URL + '/setPermissions', body)\n//     return response.data\n//   } catch (err) {\n//     console.log(err)\n//   }\n// }\n","import axios from 'axios'\n\nconst BASE_URL = `${process.env.REACT_APP_API_URL}/admin/assignment`\n\nexport const listAllJurisdictions = async () => {\n  const { data } = await axios.get(`${BASE_URL}/jurisdictions`)\n  return data\n}\n\nexport const listAllVolunteers = async () => {\n  const { data } = await axios.get(`${BASE_URL}/volunteers`)\n  return data\n}\n\nexport const assignJurisdictions = async ({\n  userId,\n  jurisdictionIds,\n  removedJurisdictionIds,\n}) => {\n  const { data } = await axios.post(`${BASE_URL}/jurisdictions`, {\n    userId,\n    jurisdictionIds,\n    removedJurisdictionIds,\n  })\n  return data\n}\n","import axios from 'axios'\n\nconst BASE_URL = `${process.env.REACT_APP_API_URL}/admin/wip/jurisdictions`\n\nexport const getJurisdiction = async (jurisdictionId) => {\n  const url = `${BASE_URL}/${jurisdictionId}`\n  const { data } = await axios.get(url)\n  return data\n}\n\nexport const updateJurisdiction = async (wipJurisdictionId, wip) => {\n  // NOTE: optional dates and times generate errors on the backend\n  // if we pass a blank string, e.g. --\n\n  // 2020-10-15 22:24:39.407 UTC [968]\n  //  ERROR:  new row for relation \"wip_jurisdiction_importantdate\"\n  // violates check constraint \"wip_jurisdiction_importantdate_begin_time_check\"\n\n  // Getting around this by converting blank strings to null. But seems\n  // weird cuz the backend models don't identify any contraints on these fields.\n  // Talk to Drew about this. Wonder if the constraints are left over from\n  // previous migrations.\n  wip.importantDates.forEach((importantDate) => {\n    if (importantDate.beginDate === '') importantDate.beginDate = null\n    if (importantDate.beginTime === '') importantDate.beginTime = null\n    if (importantDate.endDate === '') importantDate.endDate = null\n    if (importantDate.endTime === '') importantDate.endTime = null\n  })\n\n  wip.locations.forEach((location) => {\n    if (location.scheduleType !== 'description') {\n      location.scheduleDescription = null\n    }\n\n    if (location.scheduleType !== 'hours') {\n      location.hours = []\n    }\n\n    if (location.scheduleType !== 'continuous') {\n      location.continuousOpenDate = null\n      location.continuousCloseDate = null\n      location.continuousOpenTime = null\n      location.continuousCloseTime = null\n    }\n  })\n\n  const url = `${BASE_URL}/${wipJurisdictionId}`\n  const { data } = await axios.put(url, wip)\n  return data\n}\n\nexport const releaseJurisdiction = async (wipJurisdictionId) => {\n  const url = `${BASE_URL}/${wipJurisdictionId}/release`\n  const { data } = await axios.put(url)\n  return data\n}\n\nexport const listReleasedJurisdictions = async () => {\n  const { data } = await axios.get(`${BASE_URL}/released`)\n  return data\n}\n\nexport const listMyJurisdictions = async () => {\n  const { data } = await axios.get(`${BASE_URL}/me`)\n  return data\n}\n\nexport const getReleasedJurisdiction = async (wipJurisdictionId) => {\n  const url = `${BASE_URL}/released/${wipJurisdictionId}`\n  const { data } = await axios.get(url)\n  return data\n}\n\nexport const publishJurisdiction = async (wipJurisdictionId) => {\n  const url = `${BASE_URL}/${wipJurisdictionId}/publish`\n  const { data } = await axios.put(url)\n  return data\n}\n","import axios from 'axios'\n\nconst BASE_URL = `${process.env.REACT_APP_API_URL}/admin/dashboard`\n\nexport const getJurisdictions = async () => {\n  const { data } = await axios.get(`${BASE_URL}/jurisdictions`)\n  return data\n}\n","import axios from 'axios'\nimport * as user from './user'\nimport * as assignment from './assignment'\nimport * as wip from './wip'\nimport * as dashboard from './dashboard'\n\naxios.interceptors.request.use(\n  (config) => {\n    const token = sessionStorage.getItem('token')\n    if (token) {\n      config.headers['Authorization'] = token\n    }\n    return config\n  },\n  (error) => {\n    Promise.reject(error)\n  }\n)\n\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const status = error.response ? error.response.status : null\n\n    if (status === 401) {\n      // TODO: handle 401's after token expiration\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nconst api = {\n  user,\n  assignment,\n  wip,\n  dashboard,\n}\n\nexport default api\n","import api from 'services/api'\nimport { toast } from 'store/actions/toaster'\nimport useActions from 'hooks/useActions'\n\nexport const types = {\n  GET_USER: 'auth/GET_USER',\n  LOGIN: 'auth/LOGIN',\n  REGISTER: 'auth/REGISTER',\n  LOGOUT: 'auth/LOGOUT',\n}\n\nexport const getUser = () => {\n  return async (dispatch) => {\n    const user = await api.user.getUser()\n    dispatch({\n      type: types.GET_USER,\n      data: user,\n    })\n  }\n}\n\nexport const register = ({\n  firstName,\n  lastName,\n  email,\n  password,\n  notes,\n  slackName,\n}) => {\n  return async (dispatch) => {\n    try {\n      const { user } = await api.user.register({\n        firstName,\n        lastName,\n        email,\n        password,\n        notes,\n        slackName,\n      })\n\n      dispatch({\n        type: types.REGISTER,\n        data: user,\n      })\n    } catch (error) {\n      dispatch(\n        toast({\n          severity: 'error',\n          message: (() => {\n            if (error.duplicateEmail) return 'email already registered'\n            return 'unknown error creating account'\n          })(),\n        })\n      )\n    }\n  }\n}\n\nexport const login = ({ email, password }) => {\n  return async (dispatch) => {\n    try {\n      const { user } = await api.user.login({ email, password })\n\n      dispatch({\n        type: types.LOGIN,\n        data: user,\n      })\n    } catch (error) {\n      dispatch(\n        toast({\n          severity: 'error',\n          message: (() => {\n            if (error.emailNotFound) return 'email not found'\n            if (error.passwordInvalid) return 'password invalid'\n            return 'server error'\n          })(),\n        })\n      )\n    }\n  }\n}\n\nexport const logout = () => {\n  return async (dispatch) => {\n    await api.user.logout()\n    dispatch({ type: types.LOGOUT })\n  }\n}\n\nexport default useActions.bind(null, {\n  getUser,\n  register,\n  login,\n  logout,\n})\n\nconst initialState = {\n  authChecked: false,\n  user: null,\n}\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.SUBMIT:\n      return {\n        ...state,\n        isSubmitting: true,\n      }\n\n    case types.CLEAR_SUBMIT:\n      return {\n        ...state,\n        isSubmitting: false,\n      }\n\n    case types.GET_USER:\n      return {\n        ...state,\n        authChecked: true,\n        isSubmitting: false,\n        user: action.data,\n      }\n\n    case types.LOGIN:\n    case types.REGISTER:\n      return {\n        ...state,\n        user: action.data,\n        isSubmitting: false,\n      }\n\n    case types.LOGOUT:\n      return {\n        ...state,\n        user: null,\n      }\n\n    default:\n      return state\n  }\n}\n","import api from 'services/api'\nimport useActions from 'hooks/useActions'\nimport { wipList, role } from 'store/selectors'\nimport { toast } from 'store/actions/toaster'\n\nexport const types = {\n  LIST_WIPS_SUCCESS: 'wip/LIST_WIPS_SUCCESS',\n  GET_WIP_SUCCESS: 'wip/GET_WIP_SUCCESS',\n  UPDATE_WIP_SUCCESS: 'wip/UPDATE_WIP_SUCCESS',\n  RELEASE_WIP_SUCCESS: 'wip/RELEASE_WIP_SUCCESS',\n  PUBLISH_WIP_SUCCESS: 'wip/PUBLISH_WIP_SUCCESS',\n  OPEN_TAB: 'wip/OPEN_TAB',\n  CLOSE_TAB: 'wip/CLOSE_TAB',\n}\n\nexport const listWips = () => {\n  return async (dispatch, getState) => {\n    const data = role(getState()).isVolunteer\n      ? await api.wip.listMyJurisdictions()\n      : await api.wip.listReleasedJurisdictions()\n\n    return dispatch({ type: types.LIST_WIPS_SUCCESS, data })\n  }\n}\n\nexport const getWip = (jid) => {\n  return async (dispatch, getState) => {\n    const state = getState()\n    const { isVolunteer } = role(state)\n\n    const data = await (async () => {\n      if (isVolunteer) return await api.wip.getJurisdiction(jid)\n\n      const list = wipList(state)\n      const wipListItem = list.find((wip) => wip.jurisdictionId === +jid)\n      const wipJurisdictionId = wipListItem?.wipJurisdictionId\n      return await api.wip.getReleasedJurisdiction(wipJurisdictionId)\n    })()\n\n    // get status update after wip converts from 'published' to 'in progress'\n    if (isVolunteer) await dispatch(listWips())\n\n    dispatch({ type: types.GET_WIP_SUCCESS, data })\n  }\n}\n\nexport const updateWip = (wip) => {\n  return async (dispatch) => {\n    const data = await api.wip.updateJurisdiction(wip.id, wip)\n    await dispatch(listWips()) // necessary to get status update\n\n    dispatch({ type: types.UPDATE_WIP_SUCCESS, data })\n    dispatch(toast({ message: `Updated ${wip.name}.` }))\n  }\n}\n\nexport const releaseWip = (wip) => {\n  return async (dispatch) => {\n    const data = await api.wip.releaseJurisdiction(wip.id)\n    await dispatch(listWips()) // necessary to get status update\n\n    dispatch({ type: types.RELEASE_WIP_SUCCESS, data })\n    dispatch(toast({ message: `Released ${wip.name}` }))\n  }\n}\n\nexport const publishWip = (wip) => {\n  return async (dispatch) => {\n    const data = await api.wip.publishJurisdiction(wip.id)\n    await dispatch(listWips()) // necessary to remove from wipList\n\n    dispatch({ type: types.PUBLISH_WIP_SUCCESS, data })\n    dispatch(toast({ message: `Published ${wip.name}` }))\n  }\n}\n\nexport const openTab = (jid) => ({\n  type: types.OPEN_TAB,\n  data: jid,\n})\n\nexport const closeTab = (jid) => ({\n  type: types.CLOSE_TAB,\n  data: jid,\n})\n\nexport default useActions.bind(null, {\n  listWips,\n  getWip,\n  updateWip,\n  releaseWip,\n  publishWip,\n  openTab,\n  closeTab,\n})\n\nconst initialState = {\n  wipList: null,\n  wips: {},\n  tabs: [],\n}\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.LIST_WIPS_SUCCESS:\n      return {\n        ...state,\n        wipList: action.data,\n      }\n\n    case types.GET_WIP_SUCCESS:\n    case types.UPDATE_WIP_SUCCESS:\n    case types.RELEASE_WIP_SUCCESS:\n    case types.PUBLISH_WIP_SUCCESS:\n      return {\n        ...state,\n        wips: {\n          ...state.wips,\n          [action.data.jurisdictionId]: action.data,\n        },\n      }\n\n    case types.OPEN_TAB:\n      return {\n        ...state,\n        tabs: [...state.tabs, action.data],\n      }\n\n    case types.CLOSE_TAB:\n      return {\n        ...state,\n        tabs: state.tabs.filter((jid) => jid !== action.data),\n      }\n\n    default:\n      return state\n  }\n}\n","import useActions from 'hooks/useActions'\nimport api from 'services/api'\n\nexport const types = {\n  GET_JURISDICTIONS_SUCCESS: 'assignment/GET_JURISDICTIONS_SUCCESS',\n  GET_ASSIGNMENT_SUCCESS: 'assignment/GET_ASSIGNMENT_SUCCESS',\n}\n\nexport const getJurisdictions = () => {\n  return async (dispatch) => {\n    const data = await api.assignment.listAllJurisdictions()\n\n    dispatch({\n      type: types.GET_JURISDICTIONS_SUCCESS,\n      data,\n    })\n  }\n}\n\nexport const getAssignment = () => {\n  return async (dispatch) => {\n    const [jurisdictions, volunteers] = await Promise.all([\n      api.assignment.listAllJurisdictions(),\n      api.assignment.listAllVolunteers(),\n    ])\n\n    dispatch({\n      type: types.GET_ASSIGNMENT_SUCCESS,\n      data: {\n        ...jurisdictions,\n        volunteers,\n      },\n    })\n  }\n}\n\nexport default useActions.bind(null, {\n  getJurisdictions,\n  getAssignment,\n})\n\nconst initialState = {\n  jurisdictions: null,\n  volunteers: null,\n}\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.GET_JURISDICTIONS_SUCCESS:\n      return {\n        ...state,\n        jurisdictions: action.data,\n      }\n\n    case types.GET_ASSIGNMENT_SUCCESS:\n      return action.data\n\n    default:\n      return state\n  }\n}\n","import useActions from 'hooks/useActions'\n\nexport const types = {\n  OPEN_MODAL: 'OPEN_MODAL',\n  CLOSE_MODAL: 'CLOSE_MODAL',\n}\n\nexport const openModal = (modalId, params) => ({\n  type: types.OPEN_MODAL,\n  data: { modalId, params },\n})\n\nexport const closeModal = (modalId) => ({\n  type: types.CLOSE_MODAL,\n  data: { modalId },\n})\n\nconst initialState = {\n  map: {\n    isOpen: false,\n    params: {},\n  },\n  map2: {\n    isOpen: false,\n    params: {},\n  },\n}\n\nexport default useActions.bind(null, {\n  openModal,\n  closeModal,\n})\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.OPEN_MODAL:\n      return {\n        ...state,\n        [action.data.modalId]: {\n          isOpen: true,\n          params: action.data.params,\n        },\n      }\n    case types.CLOSE_MODAL:\n      return {\n        ...state,\n        [action.data.modalId]: {\n          isOpen: false,\n          params: {},\n        },\n      }\n    default:\n      return state\n  }\n}\n","import useActions from 'hooks/useActions'\nimport api from 'services/api'\n\nexport const types = {\n  GET_JURISDICTIONS_SUCCESS: 'dashboard/GET_JURISDICTIONS_SUCCESS',\n}\n\nexport const getJurisdictions = () => {\n  return async (dispatch) => {\n    const data = await api.dashboard.getJurisdictions()\n    data.forEach((jur) => (jur.geojson = JSON.parse(jur.geojson)))\n\n    dispatch({\n      type: types.GET_JURISDICTIONS_SUCCESS,\n      data,\n    })\n  }\n}\n\nexport default useActions.bind(null, {\n  getJurisdictions,\n})\n\nconst initialState = {\n  jurisdictions: null,\n}\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.GET_JURISDICTIONS_SUCCESS:\n      return {\n        ...state,\n        jurisdictions: action.data,\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers, createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport { reducer as auth, types as authTypes } from './actions/auth'\nimport { reducer as wip } from './actions/wip'\nimport { reducer as assignment } from './actions/assignment'\nimport { reducer as toaster } from './actions/toaster'\nimport { reducer as modals } from './actions/modals'\nimport { reducer as dashboard } from './actions/dashboard'\n\nconst appReducer = combineReducers({\n  auth,\n  wip,\n  assignment,\n  toaster,\n  modals,\n  dashboard,\n})\n\n// wipe store on logout\nconst rootReducer = (state, action) => {\n  if (action.type === authTypes.LOGOUT) state = undefined\n\n  return appReducer(state, action)\n}\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nexport default createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: '#1B2152',\n      dark: '#040822',\n      light: '#EBF3FA',\n    },\n    secondary: {\n      main: '#FF0029',\n    },\n    link: {\n      main: '#0819A5',\n    },\n    background: {\n      default: '#FFF',\n    },\n    divider: '#CCD3DD',\n    locationMarkers: {\n      default: '#614799',\n      selected: '#FF0029',\n    },\n    jurisdictionStatuses: {\n      'Awaiting Edit': {\n        text: '#FFFFFF',\n        background: 'green',\n      },\n      'Edit in Progress': {\n        text: '#041B54',\n        background: '#FFD644',\n      },\n      'Released for Review': {\n        text: '#FFFFFF',\n        background: '#53A8E2',\n      },\n      Published: {\n        text: '#FFFFFF',\n        background: '#FF7144',\n      },\n    },\n  },\n  typography: {\n    fontFamily: ['Open Sans', 'sans-serif'],\n  },\n  breakpoints: {\n    values: {\n      mobile: 0,\n      desktop: 960,\n    },\n  },\n  layout: {\n    pageWidth: 1134,\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        a: {\n          textDecoration: 'none',\n        },\n        'h1, h2, h3, h4, h5, h6, p': {\n          margin: 0,\n          padding: 0,\n        },\n      },\n    },\n  },\n})\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > .changed:after': {\n      content: '\"*\"',\n      position: 'absolute',\n      top: 0,\n      right: -10,\n      color: theme.palette.primary.main,\n    },\n    '& .MuiInputLabel-shrink': {\n      fontWeight: 600,\n      color: '#808080',\n    },\n  },\n}))\n\nconst FormInput = ({ select, options, ...rest }) => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <TextField select={select} {...rest}>\n        {select &&\n          options.map((opt) => (\n            <MenuItem dense key={opt.value} value={opt.value}>\n              {opt.label}\n            </MenuItem>\n          ))}\n      </TextField>\n    </div>\n  )\n}\n\nexport default FormInput\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport clsx from 'clsx'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme) => ({\n  common: {\n    textTransform: 'none',\n    fontWeight: 700,\n    position: 'relative',\n  },\n  small: {\n    fontSize: 12,\n    borderRadius: '1.25em',\n    padding: '0.25em 1em',\n  },\n  medium: {\n    fontSize: 12,\n    borderRadius: '1.5em',\n    padding: '0.25em 3em',\n  },\n  large: {\n    fontSize: 14,\n    borderRadius: '1.5em',\n    padding: '0.75em 3em',\n  },\n  xLarge: {\n    fontSize: 14,\n    borderRadius: '2em',\n    padding: '1em 3em',\n    textTransform: 'uppercase',\n  },\n  label: {\n    visibility: ({ isLoading }) => (isLoading ? 'hidden' : 'visible'),\n    cursor: 'pointer',\n  },\n  loader: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    cursor: 'pointer',\n  },\n}))\n\nconst TextButton = ({\n  label = 'add a label prop',\n  size = 'medium',\n  disabled,\n  isLoading,\n  className,\n  ...rest\n}) => {\n  const classes = useStyles({ isLoading })\n\n  return (\n    <Button\n      color=\"primary\"\n      variant=\"contained\"\n      className={clsx(classes.common, classes[size], className)}\n      disabled={disabled || isLoading}\n      {...rest}\n    >\n      <label className={classes.label}>{label}</label>\n      {isLoading && (\n        <div className={classes.loader}>\n          <CircularProgress color=\"primary\" size=\"1.5em\" />\n        </div>\n      )}\n    </Button>\n  )\n}\n\nexport default TextButton\n","import { useCallback, useMemo } from 'react'\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\nimport FormInput from './FormInput'\nimport TextButton from 'components/core/TextButton'\nimport moment from 'moment'\n\n// the forms can't handle null, so convert nulls to empty strings.\n// also limit initialValues to the fields in the schema\nfunction getInitialValues(rawInitialValues, schema) {\n  const initialValues = {}\n  Object.keys(schema).forEach((field) => {\n    initialValues[field] =\n      rawInitialValues[field] || schema[field].defaultValue || ''\n  })\n  return initialValues\n}\n\n// null is better in the database, so convert empty strings back to null\nfunction getSubmittableValues(values) {\n  const submittableValues = {}\n  Object.keys(values).forEach((field) => {\n    submittableValues[field] = values[field] || null\n  })\n  return submittableValues\n}\n\nfunction getChangedValues(initialValues, currentValues) {\n  const changedValues = {}\n  Object.keys(initialValues).forEach((field) => {\n    changedValues[field] = initialValues[field] !== currentValues[field]\n  })\n  return changedValues\n}\n\nfunction getValidationSchema(schema) {\n  const validators = {}\n  Object.keys(schema).forEach((field) => {\n    validators[field] = schema[field].validate\n  })\n  return Yup.object(validators)\n}\n\nfunction getFormattedDate(date) {\n  if (!date) return ''\n  return moment(date).utc().format('yyyy-MM-DD')\n}\n\nexport default function useForm({\n  schema,\n  initialValues: rawInitialValues = {},\n  onSubmit: rawOnSubmit,\n  inputDefaults = {},\n  buttonDefaults = {},\n  trackChanges = false, // show asterisk when field changes\n}) {\n  const initialValues = useMemo(() => {\n    return getInitialValues(rawInitialValues, schema)\n  }, [rawInitialValues, schema])\n\n  const onSubmit = useCallback(\n    (values) => rawOnSubmit(getSubmittableValues(values)),\n    [rawOnSubmit]\n  )\n\n  const validationSchema = useMemo(() => {\n    return getValidationSchema(schema)\n  }, [schema])\n\n  const form = useFormik({\n    initialValues,\n    onSubmit,\n    validationSchema,\n    enableReinitialize: true,\n    validateOnChange: false,\n  })\n\n  form.changed = useMemo(() => {\n    return getChangedValues(initialValues, form.values)\n  }, [initialValues, form.values])\n\n  form.makeInput = useCallback(\n    (field) => {\n      const { values, touched, errors, changed, handleChange } = form\n      const { type } = schema[field].input\n      return (\n        <FormInput\n          margin=\"dense\"\n          fullWidth\n          name={field}\n          label={field}\n          value={\n            type === 'date'\n              ? getFormattedDate(values[field])\n              : values[field] || ''\n          }\n          onChange={handleChange}\n          helperText={touched[field] ? errors[field] : null}\n          error={!!errors[field] && touched[field]}\n          className={trackChanges && changed[field] ? 'changed' : undefined}\n          InputLabelProps={\n            type === 'date' || type === 'time'\n              ? { shrink: true }\n              : undefined\n          }\n          {...inputDefaults}\n          {...schema[field].input}\n        />\n      )\n    },\n    [schema, form, inputDefaults, trackChanges]\n  )\n\n  form.makeSubmitButton = useCallback(\n    ({ requireDirty, ...buttonProps }) => (\n      <TextButton\n        onClick={form.handleSubmit}\n        isLoading={form.isSubmitting}\n        disabled={requireDirty && !form.dirty}\n        label=\"Submit\"\n        {...buttonDefaults}\n        {...buttonProps}\n      />\n    ),\n    [form, buttonDefaults]\n  )\n\n  form.makeResetButton = useCallback(\n    (buttonProps) => (\n      <TextButton\n        disabled={!form.dirty || form.isSubmitting}\n        onClick={form.handleReset}\n        label=\"Clear changes\"\n        variant=\"outlined\"\n        {...buttonDefaults}\n        {...buttonProps}\n      />\n    ),\n    [form, buttonDefaults]\n  )\n\n  return form\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: 100,\n    maxWidth: 600,\n    margin: '0 auto',\n    textAlign: 'center',\n    '& button': {\n      margin: '2.5em 0 1.25em',\n    },\n    '& a': {\n      color: theme.palette.primary.main,\n    },\n  },\n  title: {\n    marginBottom: 20,\n    color: theme.palette.primary.main,\n    fontWeight: 600,\n  },\n}))\n\nconst Layout = ({ title, children }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <h1 className={classes.title}>{title}</h1>\n      {children}\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport * as Yup from 'yup'\nimport useAuthActions from 'store/actions/auth'\nimport useForm from 'components/forms/useForm'\nimport Layout from './Layout'\n\nconst schema = {\n  email: {\n    validate: Yup.string().email().required('Required'),\n    input: { label: 'Email', autoFocus: true },\n  },\n  password: {\n    validate: Yup.string().min(8).required('Required'),\n    input: { label: 'Password', type: 'password' },\n  },\n}\n\nconst Login = () => {\n  const { login } = useAuthActions()\n\n  const { makeInput, makeSubmitButton } = useForm({\n    schema,\n    onSubmit: login,\n    inputDefaults: {\n      variant: 'outlined',\n      margin: 'normal',\n    },\n  })\n\n  return (\n    <Layout title=\"Login\">\n      <form>\n        {makeInput('email')}\n        {makeInput('password')}\n        {makeSubmitButton({\n          label: 'Log In',\n          type: 'submit',\n          fullWidth: true,\n          size: 'large',\n        })}\n      </form>\n      <Link to=\"/register\">Need an account? Register here.</Link>\n    </Layout>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport * as Yup from 'yup'\nimport useAuthActions from 'store/actions/auth'\nimport useForm from 'components/forms/useForm'\nimport Layout from './Layout'\n\nconst schema = {\n  firstName: {\n    validate: Yup.string().required('Required'),\n    input: { label: 'First Name' },\n  },\n  lastName: {\n    validate: Yup.string().required('Required'),\n    input: { label: 'Last Name' },\n  },\n  email: {\n    validate: Yup.string().email().required('Required'),\n    input: { label: 'Email' },\n  },\n  password: {\n    validate: Yup.string().min(8).required('Required'),\n    input: { label: 'Password', type: 'password' },\n  },\n  passwordConfirm: {\n    validate: Yup.string()\n      .required('Required')\n      .oneOf([Yup.ref('password'), null], 'Passwords must match'),\n    input: { label: 'Re-type Password', type: 'password' },\n  },\n  notes: {\n    validate: Yup.string(),\n    input: { label: 'Region / Time Zone Preference' },\n  },\n  slackName: {\n    validate: Yup.string(),\n    input: { label: 'Slack Name' },\n  },\n}\n\nconst Register = () => {\n  const { register } = useAuthActions()\n\n  const { makeInput, makeSubmitButton } = useForm({\n    schema,\n    onSubmit: register,\n    inputDefaults: {\n      variant: 'outlined',\n      margin: 'normal',\n    },\n  })\n\n  return (\n    <Layout title=\"Register\">\n      <form>\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            {makeInput('firstName')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('lastName')}\n          </Grid>\n        </Grid>\n        {makeInput('email')}\n        {makeInput('password')}\n        {makeInput('passwordConfirm')}\n        {makeInput('notes')}\n        {makeInput('slackName')}\n        {makeSubmitButton({\n          label: 'Register',\n          type: 'submit',\n          fullWidth: true,\n          size: 'large',\n        })}\n      </form>\n      <Link to=\"/login\">Already have an account? Login here.</Link>\n    </Layout>\n  )\n}\n\nexport default Register\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport clsx from 'clsx'\n\nconst useStyles = makeStyles((theme) => ({\n  pageWidth: {\n    width: theme.layout.pageWidth,\n    maxWidth: 'calc(100vw - 8em)',\n  },\n}))\n\nconst PageWidth = ({ className, style, children }) => {\n  const classes = useStyles()\n\n  return (\n    <div style={style} className={clsx(classes.pageWidth, className)}>\n      {children}\n    </div>\n  )\n}\n\nexport default PageWidth\n","export default __webpack_public_path__ + \"static/media/ballotnav.77a43536.svg\";","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useAuthActions from 'store/actions/auth'\nimport { useAuth } from 'store/selectors'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  name: {\n    fontWeight: 700,\n  },\n  divider: {\n    margin: '0 1em',\n  },\n  logout: {\n    fontWeight: 600,\n    cursor: 'pointer',\n    '&:hover': {\n      textDecoration: 'underline',\n    },\n  },\n}))\n\nconst UserRight = () => {\n  const classes = useStyles()\n  const { user } = useAuth()\n  const { logout } = useAuthActions()\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.name}>\n        {user.firstName} {user.lastName}\n      </div>\n      <div className={classes.divider}>|</div>\n      <div className={classes.logout} onClick={logout}>\n        Logout\n      </div>\n    </div>\n  )\n}\n\nexport default UserRight\n","import React from 'react'\nimport { NavLink as Link } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  divider: {\n    margin: '0 1em',\n  },\n  link: {\n    color: theme.palette.common.white,\n    textDecoration: 'underline',\n    cursor: 'pointer',\n    fontWeight: 600,\n  },\n  active: {\n    textDecoration: 'none',\n    cursor: 'default',\n  },\n}))\n\nconst AuthRight = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Link\n        className={classes.link}\n        activeClassName={classes.active}\n        to=\"/login\"\n      >\n        Login\n      </Link>\n      <div className={classes.divider}>|</div>\n      <Link\n        className={classes.link}\n        activeClassName={classes.active}\n        to=\"/register\"\n      >\n        Register\n      </Link>\n    </div>\n  )\n}\n\nexport default AuthRight\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link } from 'react-router-dom'\nimport bnLogo from 'assets/logos/ballotnav.svg'\nimport UserRight from './UserRight'\nimport AuthRight from './AuthRight'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: '1em 0',\n  },\n  logo: {\n    height: 30,\n    display: 'block',\n  },\n}))\n\nconst HeaderTop = ({ isAuth }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Link to=\"/\">\n        <img src={bnLogo} alt=\"Ballotnav logo\" className={classes.logo} />\n      </Link>\n      {isAuth ? <AuthRight /> : <UserRight />}\n    </div>\n  )\n}\n\nexport default HeaderTop\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link, useLocation } from 'react-router-dom'\nimport clsx from 'clsx'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    userSelect: 'none',\n  },\n  tab: {\n    fontSize: 20,\n    fontWeight: 700,\n    marginRight: '2em',\n    color: theme.palette.common.white,\n    position: 'relative',\n    whiteSpace: 'nowrap',\n  },\n  selected: {\n    cursor: 'default',\n    '&:after': {\n      content: '\"\"',\n      position: 'absolute',\n      bottom: -2,\n      height: 4,\n      left: 0,\n      right: 0,\n      backgroundColor: theme.palette.secondary.main,\n    },\n  },\n}))\n\nconst PermanentTabs = ({ tabs }) => {\n  const classes = useStyles()\n  const location = useLocation()\n\n  return (\n    <div className={classes.root}>\n      {tabs.map((tab) => (\n        <Link\n          key={tab.pathname}\n          to={tab.pathname}\n          className={clsx(classes.tab, {\n            [classes.selected]: tab.pathname === location.pathname,\n          })}\n        >\n          {tab.title}\n        </Link>\n      ))}\n    </div>\n  )\n}\n\nexport default PermanentTabs\n","import React, { useMemo, useCallback, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom'\nimport clsx from 'clsx'\nimport { useJurisdictionTabs, useWips } from 'store/selectors'\nimport useWipActions from 'store/actions/wip'\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    userSelect: 'none',\n    minWidth: 0,\n  },\n  tab: {\n    color: theme.palette.primary.main,\n    fontSize: '1em',\n    fontWeight: 700,\n    backgroundColor: theme.palette.common.white,\n    borderTopLeftRadius: '0.75em',\n    borderTopRightRadius: '0.75em',\n    padding: '0.125em 0.5em',\n    opacity: 0.5,\n    display: 'flex',\n    alignItems: 'center',\n    marginRight: 2,\n    minWidth: 0,\n    '& > a': {\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n      overflow: 'hidden',\n      color: 'inherit',\n      minWidth: 0,\n    },\n  },\n  closeButton: {\n    marginLeft: '1em',\n    cursor: 'pointer',\n    fontSize: '1.25em',\n  },\n  selected: {\n    opacity: 1,\n    '& > a': {\n      cursor: 'default',\n    },\n  },\n}))\n\nconst JurisdictionTabs = () => {\n  const classes = useStyles()\n  const history = useHistory()\n  const jurisdictions = useWips()\n  const jurisdictionTabs = useJurisdictionTabs()\n  const { openTab, closeTab } = useWipActions()\n  const match = useRouteMatch('/jurisdictions/:jid')\n  const selectedJid = +match?.params.jid\n\n  useEffect(() => {\n    if (selectedJid && !jurisdictionTabs.includes(selectedJid))\n      openTab(selectedJid)\n  }, [openTab, selectedJid, jurisdictionTabs])\n\n  const tabs = useMemo(() => {\n    if (!jurisdictions) return []\n\n    return jurisdictionTabs\n      .map((jid) => {\n        const jurisdiction = jurisdictions[jid]\n        if (!jurisdiction) return null\n        return {\n          jid,\n          title: jurisdiction.name,\n        }\n      })\n      .filter((juris) => !!juris)\n  }, [jurisdictionTabs, jurisdictions])\n\n  const onCloseTab = useCallback(\n    (jid, isSelected) => {\n      closeTab(jid)\n      if (isSelected) history.push('/jurisdictions')\n    },\n    [closeTab, history]\n  )\n\n  return (\n    <div className={classes.root}>\n      {tabs.map((tab) => {\n        const isSelected = tab.jid === selectedJid\n        const clx = clsx(classes.tab, { [classes.selected]: isSelected })\n        const close = onCloseTab.bind(null, tab.jid, isSelected)\n\n        return (\n          <div key={tab.jid} className={clx}>\n            <Link to={`/jurisdictions/${tab.jid}`}>{tab.title}</Link>\n            <CloseIcon className={classes.closeButton} onClick={close} />\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default JurisdictionTabs\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useRole } from 'store/selectors'\nimport PermanentTabs from './PermanentTabs'\nimport JurisdictionTabs from './JurisdictionTabs'\n\nconst VOLUNTEER_TABS = [\n  {\n    title: 'My Jurisdictions',\n    pathname: '/jurisdictions',\n  },\n]\n\nconst ADMIN_TABS = [\n  {\n    title: 'Dashboard',\n    pathname: '/dashboard',\n  },\n  {\n    title: 'Assign',\n    pathname: '/assign',\n  },\n  {\n    title: 'Review',\n    pathname: '/jurisdictions',\n  },\n]\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n  },\n}))\n\nconst Tabs = () => {\n  const classes = useStyles()\n  const { isAdmin } = useRole()\n  const tabs = isAdmin ? ADMIN_TABS : VOLUNTEER_TABS\n\n  return (\n    <div className={classes.root}>\n      <PermanentTabs tabs={tabs} />\n      <JurisdictionTabs />\n    </div>\n  )\n}\n\nexport default Tabs\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useAuth } from 'store/selectors'\nimport PageWidth from 'components/core/PageWidth'\nimport Top from './Top'\nimport Tabs from './Tabs'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.common.white,\n    backgroundColor: '#041B54',\n    userSelect: 'none',\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%',\n    height: ({ isAuth }) => (isAuth ? 'auto' : 150),\n  },\n  inner: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    height: '100%',\n  },\n}))\n\nconst Header = () => {\n  const { user } = useAuth()\n  const isAuth = !user\n  const classes = useStyles({ isAuth })\n  return (\n    <div className={classes.root}>\n      <PageWidth className={classes.inner}>\n        <Top isAuth={isAuth} />\n        {!isAuth && <Tabs />}\n      </PageWidth>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Header from './Header'\nimport PageWidth from './PageWidth'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    alignItems: 'center',\n  },\n  inner: {\n    padding: '1.5em 0',\n  },\n}))\n\nconst Layout = ({ children }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Header />\n      <PageWidth className={classes.inner}>{children}</PageWidth>\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react'\nimport { Switch, Redirect, Route } from 'react-router-dom'\nimport Login from 'components/auth/Login'\nimport Register from 'components/auth/Register'\nimport Layout from 'components/core/Layout'\n\nconst Auth = () => {\n  return (\n    <Layout>\n      <Switch>\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Redirect to=\"/login\" />\n      </Switch>\n    </Layout>\n  )\n}\n\nexport default Auth\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport RefreshIcon from '@material-ui/icons/Autorenew'\nimport IconButton from '@material-ui/core/IconButton'\nimport moment from 'moment'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    color: '#949494',\n    fontWeight: 400,\n    fontSize: 12,\n  },\n  lastUpdated: {\n    fontWeight: 700,\n    display: 'inline-block',\n    margin: '0 0.5em',\n  },\n}))\n\nconst LastUpdated = ({ updatedAt, onUpdate }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <span>Last update:</span>\n      <span className={classes.lastUpdated}>\n        {moment(updatedAt).format('ddd MMM Do, YYYY')}\n      </span>\n      <IconButton size=\"small\" onClick={onUpdate}>\n        <RefreshIcon color=\"primary\" style={{ fontSize: 28 }} />\n      </IconButton>\n    </div>\n  )\n}\n\nexport default LastUpdated\n","import React, { useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport SearchIcon from '@material-ui/icons/Search'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  input: {\n    flex: 1,\n    color: theme.palette.primary.main,\n    fontSize: '1em',\n    border: 'none',\n    outline: 'none',\n  },\n}))\n\nconst Search = ({ value, onChange, placeholder }) => {\n  const classes = useStyles()\n\n  const handleChange = useCallback(\n    (e) => {\n      onChange(e.target.value)\n    },\n    [onChange]\n  )\n\n  return (\n    <div className={classes.root}>\n      <input\n        className={classes.input}\n        value={value}\n        onChange={handleChange}\n        placeholder={placeholder}\n      />\n      <SearchIcon color=\"primary\" style={{ fontSize: 28 }} />\n    </div>\n  )\n}\n\nexport default Search\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(({ palette: { jurisdictionStatuses } }) => ({\n  root: {\n    color: ({ status }) => jurisdictionStatuses[status]?.text,\n    backgroundColor: ({ status }) => jurisdictionStatuses[status]?.background,\n    padding: '2px 1em 1px',\n    borderRadius: '1em',\n    textTransform: 'uppercase',\n    fontSize: 12,\n    display: 'inline-block',\n  },\n}))\n\nconst JurisdictionStatus = ({ status }) => {\n  const classes = useStyles({ status })\n\n  return <div className={classes.root}>{status}</div>\n}\n\nexport default JurisdictionStatus\n","import React from 'react'\n\nconst SortIndicator = ({ direction }) => (\n  <div style={{ height: '1.4em', width: '1.4em' }}>\n    <svg viewBox=\"0 0 24 24\">\n      <polygon\n        fillOpacity={direction === 'asc' ? 1 : 0.3}\n        points=\"7,10 17,10, 12,5\"\n      />\n      <polygon\n        fillOpacity={direction === 'desc' ? 1 : 0.3}\n        points=\"7,14 17,14, 12,19\"\n      />\n    </svg>\n  </div>\n)\n\nexport default SortIndicator\n","import React from 'react'\nimport SortIndicator from './SortIndicator'\n\nconst HeaderRow = ({ columns, onClick, sortCol, sortDirection }) => (\n  <tr>\n    {columns.map((column, index) => {\n      const { sort, title, textAlign } = column\n      const isSortCol = sortCol === index\n      const handleClick = sort && onClick.bind(null, index)\n      return (\n        <th\n          key={index.toString()}\n          onClick={handleClick}\n          style={{\n            cursor: sort ? 'pointer' : 'default',\n            backgroundColor: isSortCol ? '#CDE4F7' : undefined,\n            textAlign,\n          }}\n        >\n          <div>\n            <div>{title}</div>\n            {sort && (\n              <SortIndicator\n                direction={isSortCol ? sortDirection : undefined}\n              />\n            )}\n          </div>\n        </th>\n      )\n    })}\n  </tr>\n)\n\nexport default HeaderRow\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport DownIcon from '@material-ui/icons/ExpandMore'\nimport UpIcon from '@material-ui/icons/ExpandLess'\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    position: 'absolute',\n    left: 'calc(100% + 0.25em)',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  icon: {\n    fontSize: 28,\n  },\n}))\n\nconst CollapseToggle = ({ onClick, isUncollapsed }) => {\n  const classes = useStyles()\n  return (\n    <IconButton onClick={onClick} size=\"small\" className={classes.button}>\n      {isUncollapsed ? (\n        <UpIcon color=\"primary\" className={classes.icon} />\n      ) : (\n        <DownIcon color=\"primary\" className={classes.icon} />\n      )}\n    </IconButton>\n  )\n}\n\nexport default CollapseToggle\n","import React, { Fragment, useState, useCallback } from 'react'\nimport CollapseToggle from './CollapseToggle'\n\nconst CollapsibleRows = ({ data, columns, keyExtractor, collapse }) => {\n  const [uncollapsed, setUncollapsed] = useState([])\n\n  const toggleCollapsed = useCallback((key) => {\n    setUncollapsed((uncollapsed) =>\n      uncollapsed.includes(key)\n        ? uncollapsed.filter((el) => el !== key)\n        : [...uncollapsed, key]\n    )\n  }, [])\n\n  return data.map((row) => {\n    const key = keyExtractor(row)\n    const isUncollapsed = uncollapsed.includes(key)\n    return (\n      <Fragment key={key}>\n        <tr>\n          {columns.map((column, index) => {\n            const { field, render, textAlign } = column\n            const isLastCol = index === columns.length - 1\n            return (\n              <td\n                key={index.toString()}\n                style={{\n                  textAlign,\n                  position: isLastCol ? 'relative' : undefined,\n                }}\n              >\n                {render ? render(row[field], row) : row[field]}\n                {isLastCol && (\n                  <CollapseToggle\n                    isUncollapsed={isUncollapsed}\n                    onClick={toggleCollapsed.bind(null, key)}\n                  />\n                )}\n              </td>\n            )\n          })}\n        </tr>\n        {isUncollapsed && (\n          <tr>\n            <td\n              colSpan={columns.length}\n              style={{ maxWidth: 0, padding: 0, overflowY: 'auto' }}\n            >\n              {collapse(row)}\n            </td>\n          </tr>\n        )}\n      </Fragment>\n    )\n  })\n}\n\nexport default CollapsibleRows\n","import React from 'react'\nimport CollapsibleRows from './CollapsibleRows'\n\nconst Rows = ({ data, columns, keyExtractor, collapse }) => {\n  if (collapse)\n    return (\n      <CollapsibleRows\n        data={data}\n        columns={columns}\n        keyExtractor={keyExtractor}\n        collapse={collapse}\n      />\n    )\n\n  return data.map((row) => (\n    <tr key={keyExtractor(row)}>\n      {columns.map((column, index) => {\n        const { field, render, textAlign } = column\n        return (\n          <td key={index.toString()} style={{ textAlign }}>\n            {render ? render(row[field], row) : row[field]}\n          </td>\n        )\n      })}\n    </tr>\n  ))\n}\n\nexport default Rows\n","import React, { useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport Switch from '@material-ui/core/Switch'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: '0 0.5em',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    userSelect: 'none',\n    backgroundColor: '#EBF3FA',\n  },\n  density: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  pager: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}))\n\nconst ROWS_PER_PAGE_OPTIONS = [5, 10, 25, { value: -1, label: 'All' }]\n\nconst TableControls = ({\n  rowCount,\n  pageIndex,\n  onChangePageIndex,\n  rowsPerPage,\n  onChangeRowsPerPage,\n  dense,\n  onChangeDense,\n}) => {\n  const classes = useStyles()\n\n  const handleChangeDense = useCallback(\n    (e, val) => {\n      onChangeDense(val)\n    },\n    [onChangeDense]\n  )\n\n  const handleChangePage = useCallback(\n    (e, val) => {\n      onChangePageIndex(val)\n    },\n    [onChangePageIndex]\n  )\n\n  const handleChangeRowsPerPage = useCallback(\n    (e) => {\n      onChangeRowsPerPage(+e.target.value)\n    },\n    [onChangeRowsPerPage]\n  )\n\n  const labelDisplayedRows = useCallback(({ from, to, count }) => {\n    return to === -1 ? `${count} of ${count}` : `${from}-${to} of ${count}`\n  }, [])\n\n  const page = pageIndex > Math.floor(rowCount / rowsPerPage) ? 0 : pageIndex\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.density}>\n        <Switch checked={dense} onChange={handleChangeDense} color=\"primary\" />\n        <div>Dense</div>\n      </div>\n      <div className={classes.pager}>\n        <TablePagination\n          component=\"div\"\n          count={rowCount}\n          page={page}\n          onChangePage={handleChangePage}\n          rowsPerPage={rowsPerPage}\n          rowsPerPageOptions={ROWS_PER_PAGE_OPTIONS}\n          onChangeRowsPerPage={handleChangeRowsPerPage}\n          labelDisplayedRows={labelDisplayedRows}\n          SelectProps={{ native: true }}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default TableControls\n","import React, { useState, useMemo, useCallback, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport HeaderRow from './HeaderRow'\nimport Rows from './Rows'\nimport Controls from './Controls'\n\nconst TD_HEIGHT = 60\nconst TD_HEIGHT_DENSE = 40\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    borderCollapse: 'collapse',\n    width: '100%',\n    color: theme.palette.primary.main,\n    userSelect: 'none',\n    tableLayout: 'fixed',\n    '& th': {\n      backgroundColor: '#EBF3FA',\n      '& > div': {\n        display: 'flex',\n        alignItems: 'center',\n      },\n    },\n    '& th, & td': {\n      textAlign: 'left',\n      padding: ({ dense }) => (dense ? '0 0.75em' : '0 1.25em'),\n      height: ({ dense }) => (dense ? TD_HEIGHT_DENSE : TD_HEIGHT),\n    },\n    '& tbody tr:not(:last-child)': {\n      borderBottom: '1px #C3C8E4 solid',\n    },\n  },\n}))\n\nconst Table = ({ data, columns, keyExtractor = (row) => row.id, collapse }) => {\n  const [dense, setDense] = useState(false)\n  const classes = useStyles({ dense })\n  const [sortCol, setSortCol] = useState(-1)\n  const [sortDirection, setSortDirection] = useState('desc')\n  const [pageIndex, setPageIndex] = useState(0)\n  const [rowsPerPage, setRowsPerPage] = useState(data.length < 5 ? -1 : 5)\n\n  // reset sorting when columns change\n  // default to first sortable column\n  useEffect(() => {\n    setSortCol(columns.findIndex((col) => col.sort))\n    setSortDirection('desc')\n  }, [columns])\n\n  // reset paging when data changes\n  useEffect(() => {\n    setPageIndex(0)\n  }, [data])\n\n  const sortedData = useMemo(() => {\n    if (!data) return null\n    if (!columns[sortCol]) return data\n\n    const { sort, field } = columns[sortCol]\n\n    // use default sort algo where sort === true and field is provided\n    const sortFunc =\n      sort === true && field\n        ? (a, b) => (b[field] > a[field] ? 1 : -1)\n        : (a, b) => sort(a[field], b[field])\n\n    const sorted = [...data].sort(sortFunc)\n    if (sortDirection === 'desc') sorted.reverse()\n    return sorted\n  }, [data, columns, sortCol, sortDirection])\n\n  const pagedData = useMemo(() => {\n    if (!sortedData) return null\n    if (rowsPerPage === -1) return sortedData\n\n    const start = pageIndex * rowsPerPage\n    const end = start + rowsPerPage\n    return sortedData.slice(start, end)\n  }, [sortedData, pageIndex, rowsPerPage])\n\n  const handleColumnClick = useCallback(\n    (colIndex) => {\n      if (colIndex !== sortCol) {\n        setSortCol(colIndex)\n        setSortDirection('desc')\n      } else {\n        setSortDirection((dir) => (dir === 'asc' ? 'desc' : 'asc'))\n      }\n    },\n    [sortCol]\n  )\n\n  if (!pagedData) return null\n\n  let emptyRows = rowsPerPage - pagedData.length\n  if (pagedData.length === 0) emptyRows -= 1\n  return (\n    <div>\n      <table className={classes.table}>\n        <thead>\n          <HeaderRow\n            columns={columns}\n            onClick={handleColumnClick}\n            sortCol={sortCol}\n            sortDirection={sortDirection}\n          />\n        </thead>\n        <tbody>\n          <Rows\n            data={pagedData}\n            columns={columns}\n            keyExtractor={keyExtractor}\n            collapse={collapse}\n          />\n          {pagedData.length === 0 && (\n            <tr>\n              <td colSpan={columns.length}>\n                <i>No data.</i>\n              </td>\n            </tr>\n          )}\n          {emptyRows > 0 && (\n            <tr\n              style={{\n                height: (dense ? TD_HEIGHT_DENSE : TD_HEIGHT) * emptyRows,\n              }}\n            >\n              <td colSpan={columns.length} />\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Controls\n        rowCount={data.length}\n        pageIndex={pageIndex}\n        onChangePageIndex={setPageIndex}\n        rowsPerPage={rowsPerPage}\n        onChangeRowsPerPage={setRowsPerPage}\n        dense={dense}\n        onChangeDense={setDense}\n      />\n    </div>\n  )\n}\n\nexport default Table\n","/*\n  A sortable table. Props are:\n\n  1. data\n    An array of objects. Each object is a row in the table.\n\n  2. columns\n    An array of objects. Each object corresponds to, and configures, a column\n    in the table. Table columns are in the same order as the columns prop.\n\n    These are the fields in the object.\n\n    {\n      title,\n      field,\n      render,\n      sort,\n      textAlign,\n    }\n\n    a. title (optional)\n      The string in the th element.\n\n    b. field (optional)\n      The name of the property in each object.\n\n    c. render (optional)\n      A function that renders an individual table cell. It takes two arguments:\n        1. fieldValue = data[rowIndex][field]\n        2. record = data[rowIndex]\n\n      If a render function not provided, the fieldValue is rendered as is.\n\n    d. sort (optional)\n      Whether the column is sortable. Sort can take three values:\n        1. false (the default)\n          No sorting on the column.\n        2. true\n          The column is sorted via a default comparator:\n            (a, b) => b[field] > a[field] ? 1 : -1\n        3. a comparator function\n\n    e. textAlign (optional)\n      Text alignment of cell, defaults to 'left'.\n\n  3. keyExtractor\n    This determines the key for the row. Defaults to: (row) => row.id\n*/\n\nimport Table from './Table'\nexport default Table\n","import React from 'react'\nimport { Link, useRouteMatch } from 'react-router-dom'\nimport TextButton from './TextButton'\n\nconst LinkButton = ({ to, disabled, ...rest }) => {\n  const { url } = useRouteMatch()\n  return (\n    <Link\n      to={`${url}/${to}`}\n      style={{ cursor: disabled ? 'default' : 'pointer' }}\n    >\n      <TextButton disabled={disabled} {...rest} />\n    </Link>\n  )\n}\n\nexport default LinkButton\n","import React from 'react'\nimport JurisdictionStatus from 'components/core/JurisdictionStatus'\nimport Table from 'components/core/Table'\nimport LinkButton from 'components/core/LinkButton'\nimport { useRole } from 'store/selectors'\n\nfunction sortByJurisdictionStatus(a, b) {\n  const index = (status) =>\n    [\n      'Awaiting Edit',\n      'Edit in Progress',\n      'Released for Review',\n      'Published',\n    ].indexOf(status)\n  return index(b) - index(a)\n}\n\nconst COLUMNS = [\n  {\n    title: 'Jurisdiction',\n    field: 'jurisdictionName',\n    sort: true,\n  },\n  {\n    title: 'State',\n    field: 'stateName',\n    sort: true,\n  },\n  {\n    title: 'Status',\n    field: 'jurisdictionStatus',\n    render: (status) => <JurisdictionStatus status={status} />,\n    sort: sortByJurisdictionStatus,\n  },\n  {\n    render: (_, { jurisdictionId: id }) => (\n      <LinkButton to={id} label=\"Select\" />\n    ),\n    textAlign: 'center',\n  },\n]\n\nconst EXTRA_ADMIN_COLUMNS = [\n  {\n    title: 'Volunteer',\n    field: 'editorName',\n    sort: true,\n  },\n  {\n    title: 'Slack',\n    field: 'editorSlackName',\n    sort: true,\n  },\n]\n\nconst WipTable = ({ wips }) => {\n  const { isAdmin } = useRole()\n\n  const columns = [...COLUMNS]\n  if (isAdmin) columns.splice(2, 0, ...EXTRA_ADMIN_COLUMNS)\n\n  return (\n    <Table\n      data={wips}\n      columns={columns}\n      keyExtractor={(j) => j.jurisdictionId}\n    />\n  )\n}\n\nexport default WipTable\n","import React, { useState, useMemo } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useWipList, useRole } from 'store/selectors'\nimport useWipActions from 'store/actions/wip'\nimport LastUpdated from 'components/core/LastUpdated'\nimport SearchBox from 'components/core/SearchBox'\nimport Table from './Table'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingBottom: '6em',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: '2.5em',\n    height: '3em',\n  },\n  title: {\n    color: theme.palette.secondary.main,\n    fontWeight: 700,\n    fontSize: 24,\n  },\n  searchBox: {\n    borderBottom: '1px #d6d6d6 solid',\n    marginBottom: '0.5em',\n  },\n}))\n\nconst WipList = () => {\n  const classes = useStyles()\n  const [filter, setFilter] = useState('')\n  const wips = useWipList()\n  const { listWips } = useWipActions()\n  const { isVolunteer } = useRole()\n\n  const filteredWips = useMemo(() => {\n    const cleanFilter = filter.trim()\n\n    if (cleanFilter.length < 2) return wips\n    return wips.filter((j) => {\n      const regex = new RegExp(cleanFilter, 'i')\n      return regex.test(j.jurisdictionName) || regex.test(j.stateName)\n    })\n  }, [filter, wips])\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <h1 className={classes.title}>\n          {isVolunteer ? 'My Jurisdictions' : 'Review Jurisdictions'}\n        </h1>\n        <LastUpdated updatedAt={Date.now()} onUpdate={listWips} />\n      </div>\n      <div className={classes.searchBox}>\n        <SearchBox\n          value={filter}\n          onChange={setFilter}\n          placeholder=\"Filter by jurisdiction or state name\"\n        />\n      </div>\n      <Table wips={filteredWips} />\n    </div>\n  )\n}\n\nexport default WipList\n","import * as Yup from 'yup'\n\nconst schema = {\n  name: {\n    validate: Yup.string().required(),\n    input: { label: 'Name' },\n  },\n  authorityName: {\n    validate: Yup.string(),\n    input: { label: 'Authority Name' },\n  },\n  mailAddress1: {\n    validate: Yup.string(),\n    input: { label: 'Address 1' },\n  },\n  mailAddress2: {\n    validate: Yup.string(),\n    input: { label: 'Address 2' },\n  },\n  mailAddress3: {\n    validate: Yup.string(),\n    input: { label: 'Address 3' },\n  },\n  internalNotes: {\n    validate: Yup.string(),\n    input: {\n      label: 'Internal Notes',\n      type: 'textarea',\n      multiline: true,\n      rows: 7,\n    },\n  },\n}\n\nexport default schema\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport useForm from './useForm'\nimport schema from './schemas/jurisdiction'\n\nconst JurisdictionForm = ({ wipJurisdiction, onSubmit }) => {\n  const { makeInput, makeSubmitButton, makeResetButton } = useForm({\n    schema,\n    initialValues: wipJurisdiction,\n    onSubmit,\n    inputDefaults: {\n      variant: 'outlined',\n    },\n  })\n\n  return (\n    <form>\n      <Grid container spacing={3}>\n        <Grid item xs={6}>\n          {makeInput('name')}\n        </Grid>\n        <Grid item xs={6}>\n          {makeInput('authorityName')}\n        </Grid>\n        <Grid container item xs={6} spacing={0}>\n          <Grid item xs={12}>\n            {makeInput('mailAddress1')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('mailAddress2')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('mailAddress3')}\n          </Grid>\n        </Grid>\n        <Grid item xs={6}>\n          {makeInput('internalNotes')}\n        </Grid>\n        <Grid item xs={6} />\n        <Grid container item xs={6} justify=\"space-around\">\n          {makeResetButton()}\n          {makeSubmitButton({\n            label: 'Update jurisdiction',\n            requireDirty: true,\n          })}\n        </Grid>\n      </Grid>\n    </form>\n  )\n}\n\nexport default JurisdictionForm\n","export const identity = (x) => x\n\nexport const pick = (obj, keys) => {\n  const out = {}\n  keys.forEach((key) => (out[key] = obj[key]))\n  return out\n}\n\nexport const delay = async (time) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve, time)\n  })\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport clsx from 'clsx'\nimport { identity } from 'services/utils'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    userSelect: 'none',\n  },\n  tab: {\n    paddingRight: '2em',\n    cursor: 'pointer',\n  },\n  activeTab: {\n    position: 'relative',\n    cursor: 'default',\n    '&:after': {\n      content: '\"\"',\n      position: 'absolute',\n      bottom: -1,\n      left: 0,\n      right: 0,\n      height: 1,\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  title: {\n    fontSize: 20,\n    color: theme.palette.primary.main,\n    opacity: 0.3,\n    whiteSpace: 'nowrap',\n  },\n  activeTitle: {\n    opacity: 1,\n  },\n}))\n\nconst Tabs = ({ tabs, activeTab, onChange, renderTitle = identity }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      {tabs.map((tab, index) => {\n        const isActive = tab === activeTab\n        return (\n          <div\n            key={index}\n            className={clsx(classes.tab, { [classes.activeTab]: isActive })}\n            onClick={isActive ? undefined : onChange.bind(null, tab)}\n          >\n            <div\n              className={clsx(classes.title, {\n                [classes.activeTitle]: isActive,\n              })}\n            >\n              {renderTitle(tab)}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Tabs\n","import React from 'react'\nimport { Link, useRouteMatch } from 'react-router-dom'\nimport AddIcon from '@material-ui/icons/AddCircle'\n\nconst AddButton = ({ to }) => {\n  const { url } = useRouteMatch()\n  return (\n    <Link to={`${url}/${to}`}>\n      <AddIcon color=\"primary\" style={{ fontSize: 32, display: 'block' }} />\n    </Link>\n  )\n}\n\nexport default AddButton\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CheckIcon from '@material-ui/icons/Check'\n\nconst BOXES = [\n  {\n    title: 'Type',\n    field: 'facilityTypeId',\n  },\n  {\n    title: 'Address1',\n    field: 'address1',\n  },\n  {\n    title: 'Address2',\n    field: 'address2',\n  },\n  {\n    title: 'Address3',\n    field: 'address3',\n  },\n  {\n    title: 'City',\n    field: 'city',\n  },\n  {\n    title: 'Zip',\n    field: 'zip',\n  },\n  {\n    title: 'Time Zone',\n    field: 'timezone',\n  },\n  {\n    title: 'Rules',\n    field: 'rules',\n  },\n  {\n    title: 'Name',\n    field: 'contactName',\n  },\n  {\n    title: 'Phone',\n    field: 'contactPhone',\n  },\n  {\n    title: 'Email',\n    field: 'contactEmail',\n  },\n]\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  column: {\n    flex: 1,\n    borderRight: '1px #C3C8E4 solid',\n    '&:first-child': {\n      borderLeft: '1px #C3C8E4 solid',\n    },\n  },\n  title: {\n    padding: '1em 0.5em',\n    backgroundColor: '#E5E7F3',\n    fontWeight: 700,\n    textAlign: 'center',\n    whiteSpace: 'nowrap',\n  },\n  check: {\n    padding: '1em',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  isChecked: {\n    backgroundColor: '#07917A',\n    border: `2px #07917A solid`,\n  },\n  notChecked: {\n    border: `2px ${theme.palette.secondary.main} solid`,\n    '& .MuiSvgIcon-root': {\n      visiblity: 'hidden',\n    },\n  },\n  icon: {\n    fontSize: 12,\n    display: 'block',\n    color: theme.palette.common.white,\n  },\n}))\n\nconst LocationCheckboxes = ({ location }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      {BOXES.map(({ title, field }, index) => (\n        <div key={index.toString()} className={classes.column}>\n          <div className={classes.title}>{title}</div>\n          <div className={classes.check}>\n            <div\n              className={\n                location[field] ? classes.isChecked : classes.notChecked\n              }\n            >\n              <CheckIcon className={classes.icon} />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default LocationCheckboxes\n","export const phoneNumberTypes = {\n  1: 'Voice',\n  2: 'TTY',\n  3: 'Fax',\n}\n\nexport const importantDateTypes = {\n  1: 'Voter Registration Deadline',\n  2: 'Absentee Ballot Application Deadline',\n  3: 'Polls Open',\n  4: 'Absentee Ballot Return Deadline',\n}\n","import LinkButton from 'components/core/LinkButton'\nimport LocationCheckboxes from './LocationCheckboxes'\nimport { phoneNumberTypes, importantDateTypes } from 'const'\n\nconst EditButton = ({ to }) => (\n  <LinkButton to={to} label=\"Edit\" variant=\"outlined\" />\n)\n\nconst models = [\n  {\n    title: 'Locations',\n    field: 'locations',\n    columns: [\n      {\n        title: 'Location name',\n        field: 'name',\n        sort: true,\n      },\n      {\n        title: 'City',\n        field: 'city',\n        sort: true,\n      },\n      {\n        title: 'Contact name',\n        field: 'contactName',\n        sort: true,\n      },\n      {\n        title: 'Contact phone',\n        field: 'contactPhone',\n      },\n      {\n        title: 'Contact email',\n        field: 'contactEmail',\n      },\n      {\n        render: (_, { id }) => <EditButton to={`locations/${id}`} />,\n        textAlign: 'center',\n      },\n    ],\n    collapse: (location) => <LocationCheckboxes location={location} />,\n  },\n  {\n    title: 'Phones',\n    field: 'phones',\n    columns: [\n      {\n        title: 'Phone Number Type',\n        field: 'phoneNumberTypeId',\n        render: (phoneNumberTypeId) => phoneNumberTypes[phoneNumberTypeId],\n        sort: true,\n      },\n      {\n        title: 'Phone Number',\n        field: 'phoneNumber',\n      },\n      {\n        title: 'Description',\n        field: 'description',\n      },\n      {\n        title: 'Sort Order',\n        field: 'sortOrder',\n      },\n      {\n        render: (_, { id }) => <EditButton to={`phones/${id}`} />,\n        textAlign: 'center',\n      },\n    ],\n  },\n  {\n    title: 'Important Dates',\n    field: 'importantDates',\n    columns: [\n      {\n        title: 'Important Date Type',\n        field: 'importantDateTypeId',\n        render: (importantDateTypeId) =>\n          importantDateTypes[importantDateTypeId],\n        sort: true,\n      },\n      {\n        title: 'Note',\n        field: 'note',\n      },\n      {\n        render: (_, { id }) => <EditButton to={`importantDates/${id}`} />,\n        textAlign: 'center',\n      },\n    ],\n  },\n]\n\nexport default models\n","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Tabs from 'components/core/Tabs'\nimport Table from 'components/core/Table'\nimport AddButton from './AddButton'\nimport models from './models'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  header: {\n    marginBottom: '0.5em',\n    borderBottom: '1px #D6D6D6 solid',\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'space-between',\n  },\n}))\n\nconst Submodels = ({ wipJurisdiction: wip }) => {\n  const classes = useStyles()\n  const [activeModel, setActiveModel] = useState(models[0])\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <Tabs\n          tabs={models}\n          activeTab={activeModel}\n          onChange={setActiveModel}\n          renderTitle={(model) => model.title}\n        />\n        <AddButton to={`${activeModel.field}/new`} />\n      </div>\n      <Table\n        data={wip[activeModel.field]}\n        columns={activeModel.columns}\n        collapse={activeModel.collapse}\n      />\n    </div>\n  )\n}\n\nexport default Submodels\n","import React, { useCallback, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport TextButton from 'components/core/TextButton'\nimport useWipActions from 'store/actions/wip'\nimport { useRole } from 'store/selectors'\nimport PageWidth from 'components/core/PageWidth'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: '#EBF3FA',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  inner: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    padding: '1em 0',\n  },\n}))\n\nconst Footer = ({ wipJurisdiction }) => {\n  const classes = useStyles()\n  const { releaseWip, publishWip, closeTab } = useWipActions()\n  const { isVolunteer } = useRole()\n  const history = useHistory()\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const onClick = useCallback(async () => {\n    setIsSubmitting(true)\n    const submit = isVolunteer ? releaseWip : publishWip\n    await submit(wipJurisdiction)\n    setIsSubmitting(false)\n\n    history.push('/jurisdictions')\n    closeTab(wipJurisdiction.jurisdictionId)\n  }, [isVolunteer, publishWip, releaseWip, wipJurisdiction, history, closeTab])\n\n  return (\n    <div className={classes.root}>\n      <PageWidth className={classes.inner}>\n        <TextButton\n          label={isVolunteer ? 'Submit For Review' : 'Publish'}\n          size=\"xLarge\"\n          onClick={onClick}\n          disabled={isVolunteer && wipJurisdiction.isReleased}\n          isLoading={isSubmitting}\n        />\n      </PageWidth>\n    </div>\n  )\n}\n\nexport default Footer\n","import React, { useState, useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useWip, useWipListItem } from 'store/selectors'\nimport useWipActions from 'store/actions/wip'\nimport JurisdictionStatus from 'components/core/JurisdictionStatus'\nimport LastUpdated from 'components/core/LastUpdated'\nimport JurisdictionForm from 'components/forms/JurisdictionForm'\nimport Submodels from './Submodels'\nimport Footer from '../Footer'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingBottom: '6em',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    height: '3em',\n  },\n  headerLeft: {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  title: {\n    color: theme.palette.secondary.main,\n    fontWeight: 700,\n    marginRight: '1.5em',\n  },\n  detailsToggle: {\n    display: 'inline-block',\n    color: theme.palette.link.main,\n    textDecoration: 'underline',\n    fontSize: '0.875em',\n    marginBottom: '1.5em',\n    cursor: 'pointer',\n    userSelect: 'none',\n  },\n  details: {\n    display: ({ showDetails }) => (showDetails ? 'block' : 'none'),\n    marginBottom: '3em',\n  },\n}))\n\nconst JurisdictionDetails = ({\n  match: {\n    params: { jid },\n  },\n}) => {\n  const [showDetails, setShowDetails] = useState(true)\n  const classes = useStyles({ showDetails })\n  const jurisdictionStatus = useWipListItem(jid)?.jurisdictionStatus\n  const { getWip, updateWip } = useWipActions()\n  const wipJurisdiction = useWip(jid)\n\n  const refreshWip = useCallback(() => getWip(jid), [getWip, jid])\n\n  const toggleDetails = useCallback(() => {\n    setShowDetails((showDetails) => !showDetails)\n  }, [])\n\n  const onSubmitJurisdiction = useCallback(\n    (values) => {\n      return updateWip({\n        ...wipJurisdiction,\n        ...values,\n      })\n    },\n    [wipJurisdiction, updateWip]\n  )\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <div className={classes.headerLeft}>\n          <h2 className={classes.title}>Jurisdiction details</h2>\n          <JurisdictionStatus status={jurisdictionStatus} />\n        </div>\n        <LastUpdated updatedAt={Date.now()} onUpdate={refreshWip} />\n      </div>\n      <div className={classes.detailsToggle} onClick={toggleDetails}>\n        {showDetails ? 'Hide details' : 'Show details'}\n      </div>\n      <div className={classes.details}>\n        <JurisdictionForm\n          wipJurisdiction={wipJurisdiction}\n          onSubmit={onSubmitJurisdiction}\n        />\n      </div>\n      <Submodels wipJurisdiction={wipJurisdiction} />\n      <Footer wipJurisdiction={wipJurisdiction} />\n    </div>\n  )\n}\n\nexport default JurisdictionDetails\n","import * as Yup from 'yup'\n\nexport const ynuSelect = () => ({\n  validate: Yup.string(),\n  input: {\n    select: true,\n    options: [\n      { value: 'Y', label: 'Yes' },\n      { value: 'N', label: 'No' },\n      { value: 'U', label: 'Unknown' },\n    ],\n  },\n  defaultValue: 'U',\n})\n","import * as Yup from 'yup'\nimport { ynuSelect } from './_common'\n\nconst schema = {\n  name: {\n    validate: Yup.string().required(),\n    input: { label: 'Name' },\n  },\n  address1: {\n    validate: Yup.string(),\n    input: { label: 'Address 1' },\n  },\n  address2: {\n    validate: Yup.string(),\n    input: { label: 'Address 2' },\n  },\n  address3: {\n    validate: Yup.string(),\n    input: { label: 'Address 3' },\n  },\n  city: {\n    validate: Yup.string(),\n    input: { label: 'City' },\n  },\n  zip: {\n    validate: Yup.string(),\n    input: { label: 'ZIP' },\n  },\n  contactName: {\n    validate: Yup.string(),\n    input: { label: 'Contact Name' },\n  },\n  contactPhone: {\n    validate: Yup.string(),\n    input: { label: 'Contact Phone' },\n  },\n  contactEmail: {\n    validate: Yup.string().email(),\n    input: { label: 'Contact Email' },\n  },\n  isDriveup: ynuSelect(),\n  isDropBox: ynuSelect(),\n  isEarlyDropoffLocation: ynuSelect(),\n  isEarlyVotingLocation: ynuSelect(),\n  isElectionsOffice: ynuSelect(),\n  isHandicapAccessible: ynuSelect(),\n  isOutdoors: ynuSelect(),\n  isPollingLocation: ynuSelect(),\n  isStaffedLocation: ynuSelect(),\n  scheduleType: {\n    validate: Yup.string(),\n    input: {\n      select: true,\n      options: [\n        { value: 'description', label: 'Description' },\n        { value: 'continuous', label: 'Continuous' },\n        { value: 'hours', label: 'Hours' },\n      ],\n    },\n    defaultValue: 'description',\n  },\n  scheduleDescription: {\n    validate: Yup.string(),\n    input: {\n      label: 'Schedule Description',\n      type: 'textarea',\n      multiline: true,\n      rows: 7,\n      variant: 'outlined',\n    },\n  },\n  continuousOpenDate: {\n    validate: Yup.string(),  // TODO: figure this out\n    input: {\n      label: 'Continuous Open Date',\n      type: 'date',\n    },\n  },\n  continuousOpenTime: {\n    validate: Yup.string(),  // TODO: figure this out\n    input: {\n      label: 'Continuous Open Time',\n      type: 'time',\n    },\n  },\n  continuousCloseDate: {\n    validate: Yup.string(),  // TODO: figure this out\n    input: {\n      label: 'Continuous Close Date',\n      type: 'date',\n    },\n  },\n  continuousCloseTime: {\n    validate: Yup.string(),  // TODO: figure this out\n    input: {\n      label: 'Continuous Close Time',\n      type: 'time',\n    },\n  },\n}\n\nexport default schema\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport useForm from './useForm'\nimport schema from './schemas/location'\nimport clsx from 'clsx'\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    position: 'relative',\n    '&:before': {\n      content: '\"\"',\n      position: 'absolute',\n      top: 12,\n      bottom: 12,\n      left: 0,\n      width: 4,\n      border: `1px ${theme.palette.primary.main} solid`,\n      borderRightWidth: 0,\n    },\n    '&:after': {\n      position: 'absolute',\n      left: -32,\n      top: '50%',\n      transform:'translateY(-50%) rotate(-90deg)',\n      fontSize: 12,\n    }\n  },\n  address: { '&:after': { content: '\"address\"' } },\n  contact: { '&:after': { content: '\"contact\"' } },\n}))\n\nconst LocationForm = ({ wipLocation, onSubmit }) => {\n  const classes = useStyles()\n\n  const { makeInput, makeSubmitButton, makeResetButton, values } = useForm({\n    schema,\n    initialValues: wipLocation,\n    onSubmit,\n    buttonDefaults: {\n      size: 'large',\n    },\n  })\n\n  return (\n    <form>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          {makeInput('name')}\n        </Grid>\n        <Grid\n          container spacing={0}\n          item xs={12}\n          className={clsx(classes.section, classes.address)}\n        >\n          <Grid item xs={12}>\n            {makeInput('address1')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('address2')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('address3')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('city')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('zip')}\n          </Grid>\n        </Grid>\n        <Grid\n          container spacing={0}\n          item xs={12}\n          className={clsx(classes.section, classes.contact)}\n        >\n          <Grid item xs={12}>\n            {makeInput('contactName')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('contactPhone')}\n          </Grid>\n          <Grid item xs={12}>\n            {makeInput('contactEmail')}\n          </Grid>\n        </Grid>\n        <Grid\n          container spacing={2}\n          item xs={12}\n        >\n          <Grid item xs={6}>\n            {makeInput('isDriveup')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isDropBox')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isEarlyDropoffLocation')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isEarlyVotingLocation')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isElectionsOffice')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isHandicapAccessible')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isOutdoors')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isPollingLocation')}\n          </Grid>\n          <Grid item xs={6}>\n            {makeInput('isStaffedLocation')}\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n          {makeInput('scheduleType')}\n        </Grid>\n        {(() => {\n          switch (values.scheduleType) {\n            case 'description': return (\n              <Grid item xs={12}>\n                {makeInput('scheduleDescription')}\n              </Grid>\n            )\n            case 'continuous': return (\n              <>\n                <Grid item xs={6}>\n                  {makeInput('continuousOpenDate')}\n                </Grid>\n                <Grid item xs={6}>\n                  {makeInput('continuousOpenTime')}\n                </Grid>\n                <Grid item xs={6}>\n                  {makeInput('continuousCloseDate')}\n                </Grid>\n                <Grid item xs={6}>\n                  {makeInput('continuousCloseTime')}\n                </Grid>\n              </>\n            )\n            default:\n              return null\n          }\n        })()}\n        <Grid\n          container\n          item\n          xs={12}\n          justify=\"space-around\"\n          style={{ paddingTop: '2em' }}\n        >\n          {makeResetButton()}\n          {makeSubmitButton({\n            label: wipLocation ? 'Update location' : 'Add location',\n            requireDirty: !!wipLocation,\n          })}\n        </Grid>\n      </Grid>\n    </form>\n  )\n}\n\nexport default LocationForm\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 500,\n    border: `1px ${theme.palette.primary.main} solid`,\n    borderRadius: '1em',\n    padding: '1em',\n    color: theme.palette.primary.dark,\n  },\n  title: {\n    color: theme.palette.primary.dark,\n    fontSize: 20,\n  },\n}))\n\nconst Interview = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <h3 className={classes.title}>Interview</h3>\n      <div>Read the questions as you complete the location information.</div>\n    </div>\n  )\n}\n\nexport default Interview\n","import React, { useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useHistory } from 'react-router-dom'\nimport { useWip, useWipListItem } from 'store/selectors'\nimport useWipActions from 'store/actions/wip'\nimport LastUpdated from 'components/core/LastUpdated'\nimport LocationForm from 'components/forms/LocationForm'\nimport Interview from './Interview'\nimport Grid from '@material-ui/core/Grid'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingBottom: '6em',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    height: '3em',\n  },\n  title: {\n    color: theme.palette.secondary.main,\n    fontWeight: 700,\n  },\n  backButton: {\n    color: theme.palette.link.main,\n    fontSize: 12,\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    display: 'inline-block',\n    marginBottom: '3em',\n  },\n  locationHeader: {\n    margin: '1em 0',\n    color: theme.palette.primary.dark,\n    fontSize: 14,\n  },\n  locationName: {\n    fontWeight: 700,\n    fontSize: 20,\n  },\n}))\n\nconst EditLocation = ({\n  match: {\n    params: { jid, lid },\n  },\n}) => {\n  const classes = useStyles()\n  const history = useHistory()\n  const wip = useWip(jid)\n  const stateName = useWipListItem(jid).stateName\n\n  const isNew = lid === 'new'\n  const wipLocation = isNew\n    ? undefined\n    : wip.locations.find((loc) => loc.id === +lid)\n\n  const { getWip, updateWip } = useWipActions()\n\n  const updateJurisdiction = useCallback(() => {\n    getWip(jid)\n  }, [jid, getWip])\n\n  const onSubmitLocation = useCallback(\n    (values) => {\n      return updateWip({\n        ...wip,\n        locations: (() => {\n          if (isNew) return [values, ...wip.locations]\n\n          return wip.locations.map((wipLocation) => {\n            return wipLocation.id === +lid\n              ? { ...wipLocation, ...values }\n              : wipLocation\n          })\n        })(),\n      })\n    },\n    [wip, isNew, lid, updateWip]\n  )\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <h2 className={classes.title}>{isNew ? 'Add' : 'Edit'} location</h2>\n        <LastUpdated updatedAt={Date.now()} onUpdate={updateJurisdiction} />\n      </div>\n      <div className={classes.backButton} onClick={history.goBack}>\n        Back to the jurisdiction\n      </div>\n      <Grid container spacing={6}>\n        <Grid item xs={6}>\n          <div className={classes.locationHeader}>\n            <div className={classes.locationName}>\n              {isNew ? 'New Location' : wipLocation.name}\n            </div>\n            <div>\n              {wip.name}, {stateName}\n            </div>\n          </div>\n          <LocationForm wipLocation={wipLocation} onSubmit={onSubmitLocation} />\n        </Grid>\n        <Grid item xs={6}>\n          <Interview />\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default EditLocation\n","import React, { useEffect } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { useWip } from 'store/selectors'\nimport useWipActions from 'store/actions/wip'\nimport JurisdictionDetails from './JurisdictionDetails'\nimport EditLocation from './EditLocation'\n\nconst EditWip = ({\n  match: {\n    params: { jid },\n    path,\n  },\n}) => {\n  const { getWip } = useWipActions()\n  const wip = useWip(jid)\n\n  useEffect(() => {\n    if (!wip) getWip(jid)\n  }, [jid, wip, getWip])\n\n  if (!wip) return null\n  return (\n    <Switch>\n      <Route exact path={path} component={JurisdictionDetails} />\n      <Route path={`${path}/locations/:lid`} component={EditLocation} />\n    </Switch>\n  )\n}\n\nexport default EditWip\n","import React, { useEffect } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { useWipList } from 'store/selectors'\nimport useWipActions from 'store/actions/wip'\nimport SelectWip from './SelectWip'\nimport EditWip from './EditWip'\n\nconst WipEditor = ({ match: { path } }) => {\n  const wipList = useWipList()\n  const { listWips } = useWipActions()\n\n  useEffect(() => {\n    if (!wipList) listWips()\n  }, [wipList, listWips])\n\n  if (!wipList) return null\n  return (\n    <Switch>\n      <Route exact path={path} component={SelectWip} />\n      <Route path={`${path}/:jid`} component={EditWip} />\n      <Redirect to={path} />\n    </Switch>\n  )\n}\n\nexport default WipEditor\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Layout from 'components/core/Layout'\nimport WipEditor from 'components/WipEditor'\n\nconst Volunteer = () => {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/jurisdictions\" component={WipEditor} />\n        <Redirect to=\"/jurisdictions\" />\n      </Switch>\n    </Layout>\n  )\n}\n\nexport default Volunteer\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useModalActions from 'store/actions/modals'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 150,\n    border: `1px ${theme.palette.primary.main} solid`,\n    borderRadius: 10,\n    padding: '1em',\n    marginBottom: '3em',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n}))\n\nconst JurisdictionStats = ({ jurisdictions }) => {\n  const classes = useStyles()\n  const { openModal } = useModalActions()\n\n  return (\n    <div className={classes.root}>\n      <div>Stats</div>\n      <button onClick={() => openModal('map')}>map 1</button>\n      <button onClick={() => openModal('map2')}>map 2</button>\n    </div>\n  )\n}\n\nexport default JurisdictionStats\n","import React, { useState, useMemo, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Tabs from 'components/core/Tabs'\nimport SearchBox from 'components/core/SearchBox'\nimport Table from 'components/core/Table'\nimport LinkButton from 'components/core/LinkButton'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  header: {\n    marginBottom: '0.5em',\n    borderBottom: '1px #D6D6D6 solid',\n    display: 'flex',\n    alignItems: 'flex-end',\n  },\n  tabs: {\n    flex: 1,\n  },\n  searchBox: {\n    width: 300,\n  },\n}))\n\nconst ASSIGN_FILTERS = [\n  {\n    title: 'Not Assigned',\n    filter: (jdxs) => jdxs.filter((j) => j.userJurisdictions.length === 0),\n  },\n  {\n    title: 'Assigned',\n    filter: (jdxs) => jdxs.filter((j) => j.userJurisdictions.length > 0),\n  },\n]\n\nconst COLUMNS = [\n  {\n    title: 'Jurisdiction',\n    field: 'jurisdictionName',\n    sort: true,\n  },\n  {\n    title: 'State',\n    field: 'stateName',\n    sort: true,\n  },\n  {\n    render: (_, { id }) => <LinkButton label=\"Select\" disabled to={id} />,\n    textAlign: 'center',\n  },\n]\n\nconst Jurisdictions = ({ jurisdictions }) => {\n  const classes = useStyles()\n  const [assignFilter, setAssignFilter] = useState(ASSIGN_FILTERS[0])\n  const [textFilter, setTextFilter] = useState('')\n\n  // reset text filter when assigned filter changes\n  useEffect(() => setTextFilter(''), [assignFilter])\n\n  const filteredJurisdictions = useMemo(() => {\n    let filtered\n\n    // apply assignment filter\n    filtered = assignFilter.filter(jurisdictions)\n\n    // apply text filter\n    const cleanTextFilter = textFilter.trim()\n    if (cleanTextFilter.length < 2) return filtered\n    filtered = filtered.filter((j) => {\n      const regex = new RegExp(cleanTextFilter, 'i')\n      return regex.test(j.jurisdictionName) || regex.test(j.stateName)\n    })\n\n    return filtered\n  }, [assignFilter, textFilter, jurisdictions])\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <div className={classes.tabs}>\n          <Tabs\n            tabs={ASSIGN_FILTERS}\n            activeTab={assignFilter}\n            onChange={setAssignFilter}\n            renderTitle={(filter) => filter.title}\n          />\n        </div>\n        <div className={classes.searchBox}>\n          <SearchBox\n            value={textFilter}\n            onChange={setTextFilter}\n            placeholder=\"Filter by jurisdiction or state name\"\n          />\n        </div>\n      </div>\n      <Table data={filteredJurisdictions} columns={COLUMNS} />\n    </div>\n  )\n}\n\nexport default Jurisdictions\n","import mapboxgl from 'mapbox-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN\n\nexport const styleUrl = 'mapbox://styles/mapbox/dark-v10'\nexport default mapboxgl\n","export const CONTINENTAL_US = [\n  [-124.848974, 24.396308],\n  [-66.885444, 49.384358],\n]\n\nexport const GEORGIA = [\n  [-85, 30],\n  [-82, 35],\n]\n\nexport const FIT_BOUNDS_OPTIONS = {\n  padding: {\n    top: 50,\n    bottom: 50,\n    left: 300,\n    right: 300,\n  },\n}\n\nexport const BOUNDARY_SOURCE_ID = 'boundary'\nexport const BOUNDARY_LAYER_FILL_ID = 'boundary-fill'\nexport const BOUNDARY_LAYER_LINE_ID = 'boundary-line'\n\nexport const LOCATION_SOURCE_ID = 'location'\nexport const LOCATION_LAYER_ID = 'location-circle'\n","import {\n  circle,\n  mask,\n  bbox,\n  pointsWithinPolygon,\n  booleanPointInPolygon,\n} from '@turf/turf'\n\nexport function emptyGeo() {\n  return {\n    type: 'FeatureCollection',\n    features: [],\n  }\n}\n\n// removes holes in a MultiPolygon\nexport function removeGeoHoles(feature) {\n  if (feature.geometry.type === 'MultiPolygon')\n    return {\n      ...feature,\n      geometry: {\n        ...feature.geometry,\n        coordinates: feature.geometry.coordinates.map((poly) => [poly[0]]),\n      },\n    }\n  else return feature\n}\n\nexport function makeGeoCircle(center, radius = 1, opts = { units: 'miles' }) {\n  return circle([center.lng, center.lat], radius, opts)\n}\n\nexport function makeGeoMask(poly) {\n  return mask(poly)\n}\n\nexport function boundingBox(geo) {\n  return bbox(geo)\n}\n\nexport function pointsWithinGeo(points, geo) {\n  return pointsWithinPolygon(points, geo)\n}\n\nexport function isPointWithinGeo(point, geo) {\n  return booleanPointInPolygon(point, geo)\n}\n","import { useEffect, useMemo } from 'react'\nimport * as config from './config'\nimport { boundingBox } from './geoUtils'\nimport moment from 'moment'\n\nexport function useAddBoundary(map) {\n  useEffect(() => {\n    map.addSource(config.BOUNDARY_SOURCE_ID, {\n      type: 'geojson',\n      data: null,\n    })\n\n    map.addLayer({\n      id: config.BOUNDARY_LAYER_FILL_ID,\n      source: config.BOUNDARY_SOURCE_ID,\n      type: 'fill',\n      paint: {\n        //'fill-color': ['get', 'timeSinceUpdate'],\n        // 'fill-opacity': 0.5,\n        // 'fill-opacity': [\n        //   'case',\n        //   [\n        //     'all',\n        //     ['boolean', ['feature-state', 'hover'], false],\n        //     ['!', ['boolean', ['feature-state', 'selected'], false]],\n        //   ],\n        //   0.5,\n        //   0,\n        // ],\n      },\n    })\n\n    map.addLayer({\n      id: config.BOUNDARY_LAYER_LINE_ID,\n      source: config.BOUNDARY_SOURCE_ID,\n      type: 'line',\n      paint: {\n        'line-color': '#fff',\n        // 'line-width': 1,\n        'line-blur': 1,\n        'line-width': [\n          'case',\n          [\n            'all',\n            ['boolean', ['feature-state', 'hover'], false],\n            ['!', ['boolean', ['feature-state', 'selected'], false]],\n          ],\n          5,\n          1,\n        ],\n      },\n    })\n\n    return () => {\n      map.removeLayer(config.BOUNDARY_LAYER_LINE_ID)\n      map.removeLayer(config.BOUNDARY_LAYER_FILL_ID)\n      map.removeSource(config.BOUNDARY_SOURCE_ID)\n    }\n  }, [map])\n}\n\nexport function useAddLocation(map) {\n  useEffect(() => {\n    map.addSource(config.LOCATION_SOURCE_ID, {\n      type: 'geojson',\n      data: null,\n    })\n\n    map.addLayer({\n      id: config.LOCATION_LAYER_ID,\n      source: config.LOCATION_SOURCE_ID,\n      type: 'circle',\n      paint: {\n        // 'circle-radius': {\n        //   'base': 1.75,\n        //   'stops': [\n        //     [10, 2],\n        //     [15, 10]\n        //   ],\n        // },\n        'circle-radius': 4,\n        'circle-color': '#1fa7b5',\n        'circle-opacity': 1,\n      },\n    })\n\n    return () => {\n      map.removeLayer(config.LOCATION_LAYER_ID)\n      map.removeSource(config.LOCATION_SOURCE_ID)\n    }\n  }, [map])\n}\n\nexport function useAddBoundaryHover(map, onChangeHoveredRegion) {\n  useEffect(() => {\n    let hoveredRegionId = null\n\n    const setHoveredRegion = (region) => {\n      if (hoveredRegionId) {\n        map.setFeatureState(\n          { source: config.BOUNDARY_SOURCE_ID, id: hoveredRegionId },\n          { hover: false }\n        )\n      }\n\n      hoveredRegionId = region.id\n\n      map.setFeatureState(\n        { source: config.BOUNDARY_SOURCE_ID, id: hoveredRegionId },\n        { hover: true }\n      )\n    }\n\n    const clearHoveredRegion = () => {\n      if (hoveredRegionId) {\n        map.setFeatureState(\n          { source: config.BOUNDARY_SOURCE_ID, id: hoveredRegionId },\n          { hover: false }\n        )\n        hoveredRegionId = null\n      }\n    }\n\n    const onMouseMove = (e) => {\n      const region = e.features[0]\n      if (!region || region.id === hoveredRegionId) return\n\n      setHoveredRegion(region)\n      onChangeHoveredRegion(region.id)\n\n      map.getCanvas().style.cursor = 'pointer'\n    }\n\n    const onMouseLeave = () => {\n      clearHoveredRegion()\n      onChangeHoveredRegion(null)\n    }\n\n    map.on('mousemove', config.BOUNDARY_LAYER_FILL_ID, onMouseMove)\n    map.on('mouseleave', config.BOUNDARY_LAYER_FILL_ID, onMouseLeave)\n\n    return () => {\n      map.off('mousemove', config.BOUNDARY_LAYER_FILL_ID, onMouseMove)\n      map.off('mouseleave', config.BOUNDARY_LAYER_FILL_ID, onMouseLeave)\n    }\n  }, [map, onChangeHoveredRegion])\n}\n\nexport function useAddBoundaryClick(map, jurisdictions) {\n  useEffect(() => {\n    const onClick = (e) => {\n      const jurisdiction = jurisdictions.find((j) => j.id === e.features[0].id)\n      const bbox = boundingBox(jurisdiction.geojson)\n      map.fitBounds(bbox, config.FIT_BOUNDS_OPTIONS)\n    }\n\n    map.on('click', config.BOUNDARY_LAYER_FILL_ID, onClick)\n\n    return () => {\n      map.off('click', config.BOUNDARY_LAYER_FILL_ID, onClick)\n    }\n  }, [map, jurisdictions])\n}\n\nexport function useAddBoundaryZoom(map, jurisdictions) {\n  const boundaries = useMemo(() => {\n    if (!jurisdictions) return null\n\n    return {\n      type: 'FeatureCollection',\n      features: jurisdictions.map((j) => ({\n        id: j.id,\n        type: 'Feature',\n        properties: {\n          name: j.name,\n          timeSinceUpdate: moment\n            .duration(moment().diff(moment(j.updatedAt)))\n            .asDays(),\n        },\n        geometry: j.geojson,\n      })),\n    }\n  }, [jurisdictions])\n\n  useEffect(() => {\n    if (!boundaries) return\n\n    map.getSource(config.BOUNDARY_SOURCE_ID).setData(boundaries)\n    map.fitBounds(boundingBox(boundaries), config.FIT_BOUNDS_OPTIONS)\n  }, [map, boundaries])\n}\n\nexport function useAddLocations(map, jurisdictions) {\n  useEffect(() => {\n    if (!jurisdictions) return\n\n    const allLocations = jurisdictions.reduce((all, next) => {\n      return [...all, ...next.locations]\n    }, [])\n\n    const locations = {\n      type: 'FeatureCollection',\n      features: allLocations.map((loc) => ({\n        type: 'Feature',\n        id: loc.id,\n        properties: {\n          id: loc.id,\n          name: loc.name,\n        },\n        geometry: {\n          type: 'Point',\n          coordinates: [loc.geomLongitude, loc.geomLatitude],\n        },\n      })),\n    }\n\n    map.getSource(config.LOCATION_SOURCE_ID).setData(locations)\n  }, [map, jurisdictions])\n}\n\nexport function useAddLocationHover(map) {\n  useEffect(() => {\n    const onMouseEnter = (e) => {\n      console.log(e.features[0].properties.name)\n    }\n\n    map.on('mouseenter', config.LOCATION_LAYER_ID, onMouseEnter)\n\n    return () => {\n      map.off('mouseenter', config.LOCATION_LAYER_ID, onMouseEnter)\n    }\n  }, [map])\n}\n","// from https://www.georgia-demographics.com/counties_by_population\n\nconst population = {\n  'Fulton County': 1036200,\n  'Gwinnett County': 915046,\n  'Cobb County': 751218,\n  'DeKalb County': 749323,\n  'Chatham County': 288496,\n  'Clayton County': 283538,\n  'Cherokee County': 247515,\n  'Forsyth County': 228383,\n  'Henry County': 225356,\n  'Richmond County': 201852,\n  'Hall County': 198667,\n  'Muscogee County': 195739,\n  'Paulding County': 159825,\n  'Houston County': 153507,\n  'Bibb County': 153200,\n  'Columbia County': 150705,\n  'Douglas County': 143316,\n  'Coweta County': 143260,\n  'Clarke County': 126176,\n  'Carroll County': 117183,\n  'Lowndes County': 115364,\n  'Fayette County': 112303,\n  'Newton County': 108079,\n  'Bartow County': 104919,\n  'Whitfield County': 104237,\n  'Floyd County': 97369,\n  'Walton County': 91442,\n  'Rockdale County': 89717,\n  'Dougherty County': 89703,\n  'Glynn County': 84470,\n  'Barrow County': 78991,\n  'Bulloch County': 76120,\n  'Troup County': 69919,\n  'Walker County': 69039,\n  'Jackson County': 67885,\n  'Catoosa County': 66700,\n  'Spalding County': 65306,\n  'Liberty County': 61349,\n  'Effingham County': 60477,\n  'Gordon County': 57202,\n  'Camden County': 53231,\n  'Laurens County': 47405,\n  'Colquitt County': 45486,\n  'Baldwin County': 45111,\n  'Thomas County': 44630,\n  'Habersham County': 44626,\n  'Coffee County': 43021,\n  'Polk County': 41908,\n  'Tift County': 40541,\n  'Murray County': 39724,\n  'Oconee County': 38132,\n  'Bryan County': 37063,\n  'Ware County': 35593,\n  'Harris County': 34105,\n  'Lumpkin County': 32402,\n  'Pickens County': 31387,\n  'Gilmer County': 30414,\n  'Sumter County': 30064,\n  'Wayne County': 29788,\n  'Lee County': 29502,\n  'White County': 29489,\n  'Haralson County': 29227,\n  'Madison County': 29218,\n  'Jones County': 28579,\n  'Monroe County': 27171,\n  'Peach County': 27145,\n  'Toombs County': 26972,\n  'Decatur County': 26682,\n  'Upson County': 26236,\n  'Hart County': 25773,\n  'Stephens County': 25750,\n  'Fannin County': 25395,\n  'Tattnall County': 25382,\n  'Grady County': 24828,\n  'Chattooga County': 24812,\n  'Dawson County': 24536,\n  'Butts County': 24090,\n  'Union County': 23288,\n  'Franklin County': 22766,\n  'Crisp County': 22713,\n  'Emanuel County': 22533,\n  'Burke County': 22520,\n  'Mitchell County': 22244,\n  'Putnam County': 21691,\n  'McDuffie County': 21455,\n  'Meriwether County': 21106,\n  'Dodge County': 20829,\n  'Worth County': 20494,\n  'Washington County': 20436,\n  'Pierce County': 19250,\n  'Elbert County': 19166,\n  'Berrien County': 19152,\n  'Brantley County': 18756,\n  'Banks County': 18708,\n  'Long County': 18692,\n  'Lamar County': 18672,\n  'Morgan County': 18507,\n  'Appling County': 18440,\n  'Pike County': 18327,\n  'Greene County': 17349,\n  'Cook County': 17177,\n  'Ben Hill County': 17033,\n  'Rabun County': 16645,\n  'Dade County': 16197,\n  'Telfair County': 16035,\n  'Jefferson County': 15618,\n  'Brooks County': 15590,\n  'Jeff Davis County': 15036,\n  'Oglethorpe County': 14931,\n  'McIntosh County': 14174,\n  'Screven County': 13989,\n  'Jasper County': 13916,\n  'Dooly County': 13736,\n  'Macon County': 13305,\n  'Charlton County': 13040,\n  'Bleckley County': 12807,\n  'Crawford County': 12325,\n  'Heard County': 11736,\n  'Towns County': 11617,\n  'Pulaski County': 11216,\n  'Bacon County': 11201,\n  'Candler County': 10812,\n  'Evans County': 10687,\n  'Chattahoochee County': 10560,\n  'Lanier County': 10380,\n  'Early County': 10312,\n  'Wilkes County': 9844,\n  'Johnson County': 9691,\n  'Irwin County': 9320,\n  'Montgomery County': 9058,\n  'Wilkinson County': 9010,\n  'Wilcox County': 8824,\n  'Jenkins County': 8793,\n  'Terrell County': 8737,\n  'Hancock County': 8515,\n  'Marion County': 8432,\n  'Seminole County': 8321,\n  'Atkinson County': 8239,\n  'Twiggs County': 8229,\n  'Taylor County': 8116,\n  'Turner County': 7943,\n  'Wheeler County': 7928,\n  'Lincoln County': 7856,\n  'Randolph County': 6973,\n  'Treutlen County': 6795,\n  'Clinch County': 6686,\n  'Calhoun County': 6365,\n  'Talbot County': 6321,\n  'Stewart County': 6293,\n  'Miller County': 5787,\n  'Warren County': 5297,\n  'Schley County': 5221,\n  'Echols County': 3981,\n  'Baker County': 3132,\n  'Glascock County': 2996,\n  'Clay County': 2951,\n  'Webster County': 2610,\n  'Quitman County': 2289,\n  'Taliaferro County': 1611,\n}\n\nexport default population\n","import React, { useEffect, useMemo } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport populationByCounty from './population'\nimport useDashboardActions from 'store/actions/dashboard'\nimport { useDashboard } from 'store/selectors'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n    padding: '1.5em',\n    backgroundColor: '#27272b',\n    color: theme.palette.common.white,\n    minWidth: 275,\n    textAlign: 'center',\n    borderRadius: 10,\n  },\n  title: {\n    textTransform: 'uppercase',\n    fontStyle: 'italic',\n    fontSize: '0.8em',\n    margin: '2em 0 0.5em',\n  },\n}))\n\nconst Sidebar = ({ hoveredRegionId, selectedRegionId }) => {\n  const classes = useStyles()\n  const { getJurisdictions } = useDashboardActions()\n  const { jurisdictions } = useDashboard()\n\n  useEffect(() => {\n    if (!jurisdictions) getJurisdictions()\n  }, [jurisdictions, getJurisdictions])\n\n  const { name, numLocations, population } = useMemo(() => {\n    if (!jurisdictions) return {}\n\n    if (hoveredRegionId) {\n      const jur = jurisdictions.find((j) => j.id === hoveredRegionId)\n      return {\n        name: jur.name,\n        numLocations: jur.locations.length,\n        population: populationByCounty[jur.name],\n      }\n    }\n\n    return {\n      name: 'Georgia',\n      numLocations: jurisdictions.reduce(\n        (total, jur) => total + jur.locations.length,\n        0\n      ),\n      population: Object.values(populationByCounty).reduce(\n        (total, next) => total + next,\n        0\n      ),\n    }\n  }, [jurisdictions, hoveredRegionId])\n\n  if (!jurisdictions) return null\n  return (\n    <div className={classes.root}>\n      <h1>{name}</h1>\n      <div className={classes.title}>Drop-off Locations</div>\n      <div style={{ fontSize: 28 }}>{numLocations}</div>\n      <div className={classes.title}>Population</div>\n      <div style={{ fontSize: 22 }}>{population}</div>\n    </div>\n  )\n}\n\nexport default Sidebar\n","import React, { useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n  },\n  label: {\n    fontSize: '1em',\n    marginLeft: '0.5em',\n  },\n  svg: {\n    height: '1.2em',\n    width: '1.2em',\n  },\n  outer: {\n    stroke: theme.palette.common.white,\n    strokeWidth: 2,\n    fill: 'transparent',\n  },\n  inner: {\n    fill: theme.palette.common.white,\n    display: ({ checked }) => (checked ? 'block' : 'none'),\n  },\n}))\n\nexport const Checkbox = ({ checked, onChange, label }) => {\n  const classes = useStyles({ checked })\n\n  const handleClick = useCallback(\n    (e) => {\n      e.stopPropagation()\n      onChange(!checked)\n    },\n    [checked, onChange]\n  )\n\n  return (\n    <div className={classes.root} onClick={handleClick}>\n      <svg viewBox=\"0 0 24 24\" className={classes.svg}>\n        <circle r={10} cx={12} cy={12} className={classes.outer} />\n        <circle r={4} cx={12} cy={12} className={classes.inner} />\n      </svg>\n      {label && <div className={classes.label}>{label}</div>}\n    </div>\n  )\n}\n\nexport default Checkbox\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Checkbox from 'components/core/Checkbox'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    bottom: 25,\n    right: 10,\n    width: 220,\n    pointerEvents: 'all',\n    userSelect: 'none',\n    backgroundColor: '#27272b',\n    color: theme.palette.common.white,\n    padding: '0.5em 0.75em',\n    borderRadius: '0.5em',\n    fontSize: '1.25em',\n    fontWeight: 700,\n  },\n  checkbox: {\n    padding: '0.25em 0',\n  },\n}))\n\nconst Layers = ({ layers, setLayers }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      {Object.keys(layers).map((layer) => (\n        <div key={layer} className={classes.checkbox}>\n          <Checkbox\n            checked={layers[layer].visible}\n            onChange={() => {\n              setLayers({\n                ...layers,\n                [layer]: {\n                  ...layers[layer],\n                  visible: !layers[layer].visible,\n                },\n              })\n            }}\n            label={layers[layer].label}\n          />\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default Layers\n","import React, { useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    userSelect: 'none',\n  },\n  label: {\n    fontSize: '1em',\n    marginLeft: '0.5em',\n  },\n  svg: {\n    height: '1.2em',\n    width: '1.2em',\n  },\n  outer: {\n    stroke: theme.palette.common.white,\n    strokeWidth: 2,\n    fill: ({ checked, color }) => (checked ? color : 'transparent'),\n  },\n  // inner: {\n  //   fill: theme.palette.common.white,\n  //   display: ({ checked }) => (checked ? 'block' : 'none'),\n  // },\n}))\n\nexport const Checkbox = ({ checked, onChange, label, color }) => {\n  const classes = useStyles({ checked, color })\n\n  const handleClick = useCallback(\n    (e) => {\n      e.stopPropagation()\n      onChange(!checked)\n    },\n    [checked, onChange]\n  )\n\n  return (\n    <div className={classes.root} onClick={handleClick}>\n      <svg viewBox=\"0 0 24 24\" className={classes.svg}>\n        <circle r={10} cx={12} cy={12} className={classes.outer} />\n        {/*<circle r={4} cx={12} cy={12} className={classes.inner} />*/}\n      </svg>\n      {label && <div className={classes.label}>{label}</div>}\n    </div>\n  )\n}\n\nexport default Checkbox\n","import React, { useCallback } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ColoredCheckbox from 'components/core/ColoredCheckbox'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    bottom: 100,\n    right: 10,\n    width: 220,\n    backgroundColor: '#27272b',\n    borderRadius: '0.5em',\n    fontSize: '1.25em',\n    padding: '0.5em 1em',\n    color: theme.palette.common.white,\n  },\n  title: {\n    textAlign: 'center',\n    fontWeight: 700,\n    marginBottom: '0.5em',\n  },\n  checkbox: {\n    margin: '0.25em 0',\n  },\n}))\n\nconst TimeSinceUpdate = ({ updateLayer, setUpdateLayer }) => {\n  const classes = useStyles()\n\n  const togglePeriod = useCallback(\n    (period) => {\n      setUpdateLayer((updateLayer) =>\n        updateLayer.map((p) =>\n          p.id === period.id ? { ...p, visible: !p.visible } : p\n        )\n      )\n    },\n    [setUpdateLayer]\n  )\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.title}>time since update</div>\n      {updateLayer.map((period) => (\n        <div key={period.id} className={classes.checkbox}>\n          <ColoredCheckbox\n            checked={period.visible}\n            label={period.label}\n            onChange={togglePeriod.bind(null, period)}\n            color={period.color}\n          />\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default TimeSinceUpdate\n","import React, { useState, useEffect } from 'react'\nimport { useDashboard } from 'store/selectors'\nimport {\n  useAddBoundary,\n  useAddLocation,\n  useAddBoundaryHover,\n  useAddBoundaryZoom,\n  useAddBoundaryClick,\n  useAddLocations,\n  useAddLocationHover,\n} from './hooks'\nimport Sidebar from './Sidebar'\nimport Layers from './Layers'\nimport TimeSinceUpdate from './TimeSinceUpdate'\nimport * as config from './config'\n\nconst UPDATE_LAYER = [\n  {\n    id: 0,\n    stop: 1,\n    label: 'less than 1 day',\n    color: 'green',\n    visible: true,\n  },\n  {\n    id: 1,\n    stop: 3,\n    label: '1 to 3 days',\n    color: 'yellow',\n    visible: true,\n  },\n  {\n    id: 2,\n    stop: 7,\n    label: '3 to 7 days',\n    color: 'blue',\n    visible: true,\n  },\n  {\n    id: 3,\n    stop: 14,\n    label: '7 to 14 days',\n    color: 'orange',\n    visible: true,\n  },\n  {\n    id: 4,\n    label: 'more than 14 days',\n    color: 'red',\n    visible: true,\n  },\n]\n\nconst LAYERS = {\n  timeSinceUpdate: {\n    label: 'time since update',\n    visible: true,\n  },\n  locations: {\n    label: 'locations',\n    visible: true,\n  },\n}\n\nfunction getStepExpression(updateLayer) {\n  const steps = []\n  updateLayer.forEach((period) => {\n    steps.push(period.visible ? period.color : 'transparent')\n    if (period.stop) steps.push(period.stop)\n  })\n\n  return ['step', ['get', 'timeSinceUpdate'], ...steps]\n}\n\nconst Enhancers = ({ map }) => {\n  const { jurisdictions } = useDashboard()\n  const [hoveredRegionId, setHoveredRegionId] = useState(null)\n  const [layers, setLayers] = useState(LAYERS)\n\n  const [updateLayer, setUpdateLayer] = useState(UPDATE_LAYER)\n\n  useAddBoundary(map)\n  useAddLocation(map)\n  useAddBoundaryHover(map, setHoveredRegionId)\n  useAddBoundaryZoom(map, jurisdictions)\n  useAddBoundaryClick(map, jurisdictions)\n  useAddLocations(map, jurisdictions)\n  useAddLocationHover(map)\n\n  useEffect(() => {\n    const layer = config.LOCATION_LAYER_ID\n    const value = layers.locations.visible ? 'visible' : 'none'\n    map.setLayoutProperty(layer, 'visibility', value)\n  }, [map, layers.locations])\n\n  useEffect(() => {\n    setUpdateLayer((updateLayer) =>\n      updateLayer.map((period) => ({\n        ...period,\n        visible: layers.timeSinceUpdate.visible,\n      }))\n    )\n  }, [map, layers.timeSinceUpdate])\n\n  useEffect(() => {\n    const layer = config.BOUNDARY_LAYER_FILL_ID\n    const value = getStepExpression(updateLayer)\n    map.setPaintProperty(layer, 'fill-color', value)\n  }, [map, updateLayer])\n\n  return (\n    <>\n      <Sidebar hoveredRegionId={hoveredRegionId} />\n      <Layers layers={layers} setLayers={setLayers} />\n      {layers.timeSinceUpdate.visible && (\n        <TimeSinceUpdate\n          updateLayer={updateLayer}\n          setUpdateLayer={setUpdateLayer}\n        />\n      )}\n    </>\n  )\n}\n\nexport default Enhancers\n","import React, { useRef, useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport mapboxgl, { styleUrl } from 'services/mapbox'\nimport * as config from './config'\nimport Enhancers from './Enhancers'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    '& canvas.mapboxgl-canvas:focus': {\n      outline: 'none',\n    },\n  },\n}))\n\nconst Map = () => {\n  const classes = useStyles()\n  const mapContainer = useRef(null)\n  const [map, setMap] = useState(null)\n\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: styleUrl,\n      bounds: config.CONTINENTAL_US,\n      fitBoundsOptions: config.FIT_BOUNDS_OPTIONS,\n    })\n\n    map.on('load', () => setMap(map))\n  }, [])\n\n  return (\n    <div ref={mapContainer} className={classes.root}>\n      {map && <Enhancers map={map} />}\n    </div>\n  )\n}\n\nexport default Map\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { useModal } from 'store/selectors'\nimport useModalActions from 'store/actions/modals'\nimport Map from 'components/admin/AdminDashboard/Map'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  close: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    zIndex: 100000,\n  },\n}))\n\nconst MapModal = () => {\n  const classes = useStyles()\n  const { closeModal } = useModalActions()\n  const { isOpen } = useModal('map')\n\n  const close = () => closeModal('map')\n\n  return (\n    <Dialog fullScreen open={isOpen}>\n      <div className={classes.close}>\n        <IconButton onClick={close}>\n          <CloseIcon style={{ color: '#FFF', fontSize: 32 }} />\n        </IconButton>\n      </div>\n      <Map />\n    </Dialog>\n  )\n}\n\nexport default MapModal\n","export const CONTINENTAL_US = [\n  [-124.848974, 24.396308],\n  [-66.885444, 49.384358],\n]\n\nexport const GEORGIA = [\n  [-85, 30],\n  [-82, 35],\n]\n\nexport const FIT_BOUNDS_OPTIONS = {\n  padding: {\n    top: 50,\n    bottom: 50,\n    left: 50,\n    right: 50,\n  },\n}\n\nexport const BOUNDARY_SOURCE_ID = 'boundary'\nexport const BOUNDARY_LAYER_FILL_ID = 'boundary-fill'\nexport const BOUNDARY_LAYER_LINE_ID = 'boundary-line'\n\nexport const LOCATION_SOURCE_ID = 'location'\nexport const LOCATION_LAYER_ID = 'location-circle'\n","import {\n  circle,\n  mask,\n  bbox,\n  pointsWithinPolygon,\n  booleanPointInPolygon,\n} from '@turf/turf'\n\nexport function emptyGeo() {\n  return {\n    type: 'FeatureCollection',\n    features: [],\n  }\n}\n\n// removes holes in a MultiPolygon\nexport function removeGeoHoles(feature) {\n  if (feature.geometry.type === 'MultiPolygon')\n    return {\n      ...feature,\n      geometry: {\n        ...feature.geometry,\n        coordinates: feature.geometry.coordinates.map((poly) => [poly[0]]),\n      },\n    }\n  else return feature\n}\n\nexport function makeGeoCircle(center, radius = 1, opts = { units: 'miles' }) {\n  return circle([center.lng, center.lat], radius, opts)\n}\n\nexport function makeGeoMask(poly) {\n  return mask(poly)\n}\n\nexport function boundingBox(geo) {\n  return bbox(geo)\n}\n\nexport function pointsWithinGeo(points, geo) {\n  return pointsWithinPolygon(points, geo)\n}\n\nexport function isPointWithinGeo(point, geo) {\n  return booleanPointInPolygon(point, geo)\n}\n","import { useEffect, useRef } from 'react'\nimport statesData from './states.json'\nimport { boundingBox } from './geoUtils'\nimport * as config from './config'\n\nconst SOURCE_ID = 'state'\n\nexport default function useAddStates(map, setStatefp, setRegionName) {\n  const states = useRef(statesData)\n\n  useEffect(() => {\n    if (!map) return\n\n    map.addSource(SOURCE_ID, {\n      type: 'geojson',\n      // data: 'http://localhost:8080/admin/dashboard/gis/states',\n      data: states.current,\n    })\n\n    map.addLayer({\n      id: `${SOURCE_ID}-borders`,\n      source: SOURCE_ID,\n      type: 'line',\n      paint: {\n        'line-color': '#fff',\n        'line-blur': 1,\n        'line-width': [\n          'case',\n          [\n            'all',\n            ['boolean', ['feature-state', 'hover'], false],\n            ['!', ['boolean', ['feature-state', 'selected'], false]],\n          ],\n          5,\n          3,\n        ],\n      },\n    })\n\n    map.addLayer({\n      id: `${SOURCE_ID}-fills`,\n      source: SOURCE_ID,\n      type: 'fill',\n      paint: {\n        'fill-color': 'transparent',\n      }\n    })\n\n    const onClick = (e) => {\n      const { statefp } = e.features[0].properties\n      const state = states.current.features.find((s) =>\n        s.properties.statefp === statefp\n      )\n      const bbox = boundingBox(state)\n      map.fitBounds(bbox, config.FIT_BOUNDS_OPTIONS)\n      map.once('zoomend', () => setStatefp(statefp))\n    }\n\n    const onMouseMove = (e) => {\n      setRegionName(e.features[0].properties.name)\n    }\n\n    map.on('click', `${SOURCE_ID}-fills`, onClick)\n    map.on('mousemove', `${SOURCE_ID}-fills`, onMouseMove)\n\n    return () => {\n      map.off('click', `${SOURCE_ID}-fills`, onClick)\n      map.off('mousemove', `${SOURCE_ID}-fills`, onMouseMove)\n      map.removeLayer(`${SOURCE_ID}-borders`)\n      map.removeLayer(`${SOURCE_ID}-fills`)\n      map.removeSource(SOURCE_ID)\n    }\n  }, [map, setStatefp, setRegionName])\n}\n","import { useEffect, useRef } from 'react'\nimport { boundingBox } from './geoUtils'\nimport * as config from './config'\nimport axios from 'axios'\n\nconst SOURCE_ID = 'county'\n\nexport default function useAddStates(map, statefp, setCountyfp, setRegionName) {\n  const counties = useRef(null)\n\n  useEffect(() => {\n    if (!map) return\n\n    map.addSource(SOURCE_ID, {\n      type: 'geojson',\n      data: null,\n    })\n\n    map.addLayer({\n      id: `${SOURCE_ID}-borders`,\n      source: SOURCE_ID,\n      type: 'line',\n      paint: {\n        'line-color': '#fff',\n        'line-blur': 1,\n        'line-width': [\n          'case',\n          [\n            'all',\n            ['boolean', ['feature-state', 'hover'], false],\n            ['!', ['boolean', ['feature-state', 'selected'], false]],\n          ],\n          5,\n          3,\n        ],\n      },\n    })\n\n    map.addLayer({\n      id: `${SOURCE_ID}-fills`,\n      source: SOURCE_ID,\n      type: 'fill',\n      paint: {\n        'fill-color': 'transparent',\n      }\n    })\n\n    const onClick = (e) => {\n      const { countyfp } = e.features[0].properties\n      const county = counties.current.features.find((s) =>\n        s.properties.countyfp === countyfp\n      )\n      const bbox = boundingBox(county)\n      map.fitBounds(bbox, config.FIT_BOUNDS_OPTIONS)\n    }\n\n    const onMouseMove = (e) => {\n      setRegionName(e.features[0].properties.name)\n    }\n\n    map.on('click', `${SOURCE_ID}-fills`, onClick)\n    map.on('mousemove', `${SOURCE_ID}-fills`, onMouseMove)\n\n    return () => {\n      map.off('click', `${SOURCE_ID}-fills`, onClick)\n      map.off('mousemove', `${SOURCE_ID}-fills`, onMouseMove)\n      map.removeLayer(`${SOURCE_ID}-borders`)\n      map.removeLayer(`${SOURCE_ID}-fills`)\n      map.removeSource(SOURCE_ID)\n    }\n  }, [map, setRegionName])\n\n  useEffect(() => {\n    if (!map || !statefp) return\n\n    async function loadCounties(map, statefp) {\n      const url = `http://localhost:8080/admin/dashboard/gis/states/${statefp}/counties`\n      const { data } = await axios.get(url)\n      map.getSource(SOURCE_ID).setData(data)\n      counties.current = data\n    }\n\n    loadCounties(map, statefp)\n  }, [map, statefp])\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    top: 10,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    padding: '0.5em',\n    borderRadius: '0.5em',\n    fontSize: 16,\n    fontWeight: 700,\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.common.black,\n    zIndex: 100,\n  },\n}))\n\nconst RegionName = ({ regionName }) => {\n  const classes = useStyles()\n\n  if (!regionName) return null\n  return (\n    <div className={classes.root}>\n      { regionName }\n    </div>\n  )\n}\n\nexport default RegionName\n","import React, { useRef, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useInitMap from './useInitMap'\nimport useAddStates from './useAddStates'\nimport useAddCounties from './useAddCounties'\nimport RegionName from './RegionName'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    '& canvas.mapboxgl-canvas:focus': {\n      outline: 'none',\n    },\n  },\n}))\n\nconst noop = () => null\n\nconst Map = () => {\n  const [statefp, setStatefp] = useState(null)\n  // eslint-disable-next-line\n  const [countyfp, setCountyfp] = useState(null)\n  const [regionName, setRegionName] = useState(null)\n  const classes = useStyles()\n  const mapContainer = useRef(null)\n  const map = useInitMap(mapContainer)\n  useAddStates(map, setStatefp, setRegionName)\n  useAddCounties(map, statefp, setCountyfp, statefp ? setRegionName : noop)\n\n  return (\n    <div ref={mapContainer} className={classes.root}>\n      <RegionName regionName={regionName} />\n    </div>\n  )\n}\n\nexport default Map\n","import { useState, useEffect } from 'react'\nimport mapboxgl, { styleUrl } from 'services/mapbox'\nimport * as config from './config'\n\nexport default function useInitMap(mapContainer) {\n  const [map, setMap] = useState(null)\n\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: styleUrl,\n      bounds: config.CONTINENTAL_US,\n      fitBoundsOptions: config.FIT_BOUNDS_OPTIONS,\n    })\n\n    map.on('load', () => setMap(map))\n  }, [mapContainer])\n\n  return map\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { useModal } from 'store/selectors'\nimport useModalActions from 'store/actions/modals'\nimport Map2 from 'components/admin/AdminDashboard/Map2'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  close: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    zIndex: 100000,\n  },\n}))\n\nconst MapModal = () => {\n  const classes = useStyles()\n  const { closeModal } = useModalActions()\n  const { isOpen } = useModal('map2')\n\n  const close = () => closeModal('map2')\n\n  return (\n    <Dialog fullScreen open={isOpen}>\n      <div className={classes.close}>\n        <IconButton onClick={close}>\n          <CloseIcon style={{ color: '#FFF', fontSize: 32 }} />\n        </IconButton>\n      </div>\n      <Map2 />\n    </Dialog>\n  )\n}\n\nexport default MapModal\n","import React, { useEffect, useMemo } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useAssignmentActions from 'store/actions/assignment'\nimport { useAssignment } from 'store/selectors'\nimport LastUpdated from 'components/core/LastUpdated'\nimport Stats from './Stats'\nimport Jurisdictions from './Jurisdictions'\nimport MapModal from 'components/modals/MapModal'\nimport Map2Modal from 'components/modals/Map2Modal'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingBottom: '6em',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: '2.5em',\n    height: '3em',\n  },\n  title: {\n    color: theme.palette.secondary.main,\n    fontWeight: 700,\n    fontSize: 24,\n  },\n}))\n\nconst AdminDashboard = () => {\n  const classes = useStyles()\n  const { getJurisdictions } = useAssignmentActions()\n  const { jurisdictions } = useAssignment()\n\n  useEffect(() => {\n    if (!jurisdictions) getJurisdictions()\n  }, [jurisdictions, getJurisdictions])\n\n  const transformed = useMemo(() => {\n    if (!jurisdictions) return null\n\n    return jurisdictions.map((j) => ({\n      id: j.id,\n      jurisdictionName: j.name,\n      stateName: j.state.name,\n      jurisdictionStatus: j.jurisdictionStatus,\n      userJurisdictions: j.userJurisdictions,\n    }))\n  }, [jurisdictions])\n\n  if (!transformed) return null\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <h1 className={classes.title}>Dashboard</h1>\n        <LastUpdated updatedAt={Date.now()} onUpdate={getJurisdictions} />\n      </div>\n      <Stats jurisdictions={transformed} />\n      <Jurisdictions jurisdictions={transformed} />\n      <MapModal />\n      <Map2Modal />\n    </div>\n  )\n}\n\nexport default AdminDashboard\n","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport List from '@material-ui/core/List'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Button from '@material-ui/core/Button'\nimport Divider from '@material-ui/core/Divider'\n\nconst useStyles = makeStyles((theme) => ({\n  cardHeader: {\n    padding: theme.spacing(1, 2),\n  },\n  list: {\n    minWidth: 300,\n    minHeight: 500,\n    maxHeight: 500,\n    backgroundColor: theme.palette.background.paper,\n    overflow: 'auto',\n  },\n  button: {\n    margin: theme.spacing(0.5, 0),\n  },\n}))\n\nfunction not(a, b, value) {\n  return a.filter((itemA) => !b.some((itemB) => itemA[value] === itemB[value]))\n}\n\nfunction intersection(a, b, value) {\n  return a.filter((itemA) => b.some((itemB) => itemA[value] === itemB[value]))\n}\n\nfunction union(a, b) {\n  return [...a, ...not(b, a)]\n}\n\nfunction TransferList({\n  leftTitle,\n  rightTitle,\n  rightItems,\n  leftItems,\n  onTransferLeft,\n  onTransferRight,\n  schema,\n}) {\n  const classes = useStyles()\n  const [checked, setChecked] = useState([])\n\n  const handleToggle = (item) => () => {\n    const currentIndex = checked.findIndex(\n      (i) => i[schema.value] === item[schema.value]\n    )\n    const newChecked = [...checked]\n\n    if (currentIndex === -1) {\n      newChecked.push(item)\n    } else {\n      newChecked.splice(currentIndex, 1)\n    }\n    setChecked(newChecked)\n  }\n\n  const numberOfChecked = (items) =>\n    intersection(items, checked, schema.value).length\n\n  // const handleToggleFirst15 = items => () => {}\n\n  const handleToggleAll = (items) => () => {\n    if (numberOfChecked(items) === items.length) {\n      setChecked(not(checked, items))\n    } else {\n      setChecked(union(checked, items))\n    }\n  }\n\n  const handleCheckedRight = () => {\n    const leftChecked = intersection(leftItems, checked, schema.value)\n    const newLeft = not(leftItems, leftChecked, schema.value)\n    onTransferLeft(newLeft)\n    onTransferRight(rightItems.concat(leftChecked))\n    setChecked(not(checked, leftChecked, schema.value))\n  }\n\n  const handleCheckedLeft = () => {\n    const rightChecked = intersection(rightItems, checked, schema.value)\n    const newRight = not(rightItems, rightChecked, schema.value)\n    onTransferRight(newRight)\n    onTransferLeft(rightChecked.concat(leftItems))\n    setChecked(not(checked, rightChecked, schema.value))\n  }\n\n  const customList = (title, subheader, items) => (\n    <Card>\n      <CardHeader\n        className={classes.cardHeader}\n        avatar={\n          <Checkbox\n            onClick={handleToggleAll(items)}\n            checked={\n              numberOfChecked(items) === items.length && items.length !== 0\n            }\n            // indeterminate={numberOfChecked(items) !== items.length && numberOfChecked(items) !== 0}\n            disabled={items.length === 0}\n            inputProps={{ 'aria-label': 'all items selected' }}\n          />\n        }\n        title={title}\n        subheader={subheader}\n      />\n      <Divider />\n      <List className={classes.list} dense component=\"div\" role=\"list\">\n        {items.map((item) => {\n          const labelId = `transfer-list-all-item-${\n            item[schema.primaryText]\n          }-label`\n          return (\n            <ListItem\n              key={item[schema.value] + item[schema.primaryText]}\n              role=\"listitem\"\n              button\n              onClick={handleToggle(item)}\n            >\n              <ListItemIcon>\n                <Checkbox\n                  checked={\n                    checked.findIndex(\n                      (i) => i[schema.value] === item[schema.value]\n                    ) !== -1\n                  }\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n              </ListItemIcon>\n              <ListItemText\n                id={labelId}\n                primary={item[schema.primaryText]}\n                secondary={item[schema.secondaryText]}\n              />\n            </ListItem>\n          )\n        })}\n        <ListItem />\n      </List>\n    </Card>\n  )\n\n  return (\n    <Grid\n      container\n      spacing={2}\n      justify=\"flex-start\"\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <Grid item xs={5}>\n        {customList(leftTitle, 'Select all', leftItems)}\n      </Grid>\n      <Grid item xs={2}>\n        <Grid container direction=\"column\" alignItems=\"center\">\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleCheckedRight}\n            disabled={\n              intersection(leftItems, checked, schema.value).length === 0\n            }\n            aria-label=\"move selected right\"\n          >\n            &gt;\n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleCheckedLeft}\n            disabled={\n              intersection(rightItems, checked, schema.value).length === 0\n            }\n            aria-label=\"move selected left\"\n          >\n            &lt;\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid item xs={5}>\n        {customList(rightTitle, 'Select all', rightItems)}\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default TransferList\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport TextField from '@material-ui/core/TextField'\n\nconst useStyles = makeStyles((theme) => ({\n  select: {\n    fontSize: '12px',\n  },\n  menuItem: {\n    fontSize: '11px',\n  },\n}))\n\nfunction SimpleSelect({ label, items, schema, onChange, disabled }) {\n  const classes = useStyles()\n  const [selected, setSelected] = React.useState('')\n  const { value, labelText } = schema\n\n  const handleChange = (e) => {\n    const { value } = e.target\n    setSelected(value)\n    onChange(value)\n  }\n\n  if (!items) return null\n  return (\n    <TextField\n      select\n      className={classes.select}\n      id=\"simple-select\"\n      value={selected}\n      onChange={handleChange}\n      label={label}\n      fullWidth\n    >\n      {items &&\n        items.map((item, idx) => (\n          <MenuItem\n            dense\n            key={item[labelText] + idx}\n            className={classes.menuItem}\n            value={item[value]}\n          >\n            {item[labelText]}\n          </MenuItem>\n        ))}\n    </TextField>\n  )\n}\n\nexport default SimpleSelect\n","import React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport useToast from 'hooks/useToast'\nimport api from 'services/api'\nimport TransferList from './TransferList'\nimport SimpleSelect from './Select'\nimport LastUpdated from 'components/core/LastUpdated'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: '2.5em',\n    height: '3em',\n  },\n  headerTitle: {\n    color: theme.palette.secondary.main,\n    fontWeight: 700,\n    fontSize: 24,\n  },\n  gridContainer: {},\n  gridItem: {},\n  card: {\n    marginTop: '50px',\n    position: 'relative',\n  },\n  cardContent: {\n    marginTop: '10px',\n    marginBottom: '10px',\n  },\n  title: {\n    fontWeight: 500,\n    fontSize: '18px',\n  },\n  saveButton: {\n    margin: theme.spacing(1),\n    width: '125px',\n  },\n  cardActions: {\n    justifyContent: 'center',\n  },\n  select: {\n    marginBottom: '100px',\n  },\n}))\n\nconst sortByPropertyAsc = (property) => (a, b) =>\n  a[property].localeCompare(b[property])\n\nfunction AssignJurisdictions() {\n  const classes = useStyles()\n  const toast = useToast()\n\n  const [loaded, setLoaded] = useState(false)\n  const [states, setStates] = useState([])\n  const [jurisdictions, setJurisdictions] = useState(null)\n  const [jurisdictionsByState, setJurisdictionsByState] = useState(null)\n  const [volunteers, setVolunteers] = useState([])\n  const [selectedVolunteer, setSelectedVolunteer] = useState({})\n  const [selectedState, setSelectedState] = useState({})\n  const [assigned, setAssigned] = useState([])\n  const [unassigned, setUnassigned] = useState([])\n  const [submitting, setSubmitting] = useState(false)\n\n  const assign = (jurisdictions) => {\n    setAssigned(jurisdictions)\n  }\n\n  const unassign = (jurisdictions) => {\n    setUnassigned(jurisdictions)\n  }\n\n  const selectVolunteer = (id) => {\n    setSelectedVolunteer(volunteers[id])\n  }\n\n  const selectState = (id) => {\n    setSelectedState(states[id])\n  }\n\n  const handleSubmit = () => {\n    setSubmitting(true)\n    if (assigned.length || unassigned.length) {\n      const { id, userJurisdictions } = selectedVolunteer\n      const userJurisdictionIds = userJurisdictions.map((jdx) => jdx.id)\n      const jurisdictionIdsToAssign = assigned\n        .map((jdx) => jdx.id)\n        .filter((id) => !userJurisdictionIds.includes(id))\n      const removedJurisdictionIds = unassigned\n        .map((jdx) => jdx.id)\n        .filter((id) => userJurisdictionIds.includes(id))\n\n      const body = {\n        userId: id,\n        jurisdictionIds: jurisdictionIdsToAssign,\n        removedJurisdictionIds,\n      }\n\n      api.assignment.assignJurisdictions(body).then(({ results }) => {\n        const successMessage = `\n            Success:\n            Created ${results.created.length} jurisdiction assignments.\n            Removed ${results.removed} jurisdiction assignments.`\n        toast({\n          severity: 'success',\n          autoHideDuration: 7000,\n          message: successMessage,\n        })\n        setSubmitting(false)\n      })\n    }\n  }\n\n  // fetch volunteers, jurisidictions\n  useEffect(() => {\n    let isSubscribed = true\n    if (!submitting) {\n      api.assignment.listAllVolunteers().then((volunteers) => {\n        const transformed = volunteers.reduce((acc, volunteer) => {\n          volunteer.userJurisdictions = volunteer.userJurisdictions.map(\n            (j) => j.jurisdiction\n          )\n          return { ...acc, [volunteer.id]: volunteer }\n        }, {})\n        if (isSubscribed) {\n          setVolunteers(transformed)\n        }\n      })\n\n      api.assignment.listAllJurisdictions().then((jurisdictions) => {\n        const jdxByState = {}\n        const jdxs = {}\n        const states = {}\n        jurisdictions.forEach((jdx) => {\n          const { id, name, state, userJurisdictions } = jdx\n          const newJdx = {\n            id,\n            name,\n            userJurisdictions,\n            stateId: state.id,\n            stateAbbrev: state.abbreviation,\n          }\n          if (!states[state.id]) {\n            states[state.id] = state\n          }\n          jdxs[jdx.id] = newJdx\n          const jdxState = jdxByState[state.id]\n            ? [...jdxByState[state.id], newJdx]\n            : [newJdx]\n          jdxByState[state.id] = jdxState\n        })\n        if (isSubscribed) {\n          setJurisdictions(jdxs)\n          setJurisdictionsByState(jdxByState)\n          setStates(states)\n          setLoaded(true)\n        }\n      })\n    }\n\n    return () => (isSubscribed = false)\n  }, [submitting])\n\n  // set selected volunteer's assigned jurisdictions to right transfer list\n  useEffect(() => {\n    if (selectedVolunteer && selectedVolunteer.userJurisdictions) {\n      const jdxs = selectedVolunteer.userJurisdictions\n        .map((jdx) => jurisdictions[jdx.id])\n        .sort(sortByPropertyAsc('name'))\n      setAssigned(jdxs)\n    }\n    return () => {}\n  }, [selectedVolunteer, jurisdictions, volunteers])\n\n  // set selected state's unassigned jurisdictions to left transfer list\n  useEffect(() => {\n    if (selectedState.id) {\n      setUnassigned(jurisdictionsByState[selectedState.id])\n    }\n    return () => {}\n  }, [selectedState, jurisdictionsByState, states])\n\n  // refresh selected volunteer, state after new fetch\n  useEffect(() => {\n    if (selectedVolunteer.id) {\n      setSelectedVolunteer(volunteers[selectedVolunteer.id])\n    }\n    if (selectedState.id) {\n      setSelectedState(states[selectedState.id])\n    } else {\n      setUnassigned([])\n    }\n    // eslint-disable-next-line\n  }, [volunteers, states])\n\n  if (!loaded) return null\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <h1 className={classes.headerTitle}>Assign Jurisdictions</h1>\n        <LastUpdated\n          updatedAt={Date.now()}\n          onUpdate={() => console.log('implement update')}\n        />\n      </div>\n      <Grid container className={classes.gridContainer} spacing={6}>\n        {/****************  SELECT VOLUNTEER, STATE  ****************/}\n        <Grid item xs={4} className={classes.gridItem}>\n          <div style={{ marginBottom: 20 }}>\n            <SimpleSelect\n              className={classes.select}\n              disabled={!loaded}\n              label=\"Volunteer\"\n              items={\n                loaded &&\n                volunteers &&\n                Object.values(volunteers).sort(sortByPropertyAsc('email'))\n              }\n              schema={{\n                id: 'id',\n                value: 'id',\n                labelText: 'email',\n              }}\n              onChange={selectVolunteer}\n            />\n          </div>\n          <SimpleSelect\n            className={classes.select}\n            disabled={!loaded}\n            label=\"State\"\n            items={\n              loaded &&\n              states &&\n              Object.values(states).sort(sortByPropertyAsc('name'))\n            }\n            schema={{\n              id: 'id',\n              value: 'id',\n              labelText: 'name',\n            }}\n            onChange={selectState}\n          />\n          {/****************  SELECTED VOLUNTEER'S NOTES  ****************/}\n          <Card className={classes.card} elevation={1}>\n            <CardContent>\n              <Typography\n                className={classes.title}\n                id=\"CardTitle\"\n                align=\"center\"\n                component=\"div\"\n              >\n                Volunteer notes/preferences:\n              </Typography>\n              <Typography\n                className={classes.cardContent}\n                style={{ fontSize: '14px' }}\n                id=\"cardContent\"\n                align=\"center\"\n                component=\"div\"\n              >\n                {selectedVolunteer && selectedVolunteer.notes\n                  ? selectedVolunteer.notes\n                  : 'no notes/preferences provided'}\n              </Typography>\n            </CardContent>\n          </Card>\n          {/****************  REVIEW/SUBMIT  ****************/}\n          <Card className={classes.card} elevation={1}>\n            <CardContent>\n              <Typography\n                className={classes.title}\n                id=\"CardTitle\"\n                align=\"center\"\n                component=\"div\"\n              >\n                Please confirm:\n              </Typography>\n              <Typography\n                className={classes.cardContent}\n                style={{ fontSize: '16px', fontWeight: 'bold' }}\n                align=\"center\"\n                id=\"cardContent\"\n                component=\"div\"\n              >\n                {assigned.length || '0'}\n              </Typography>\n              <Typography\n                className={classes.cardContent}\n                style={{ fontSize: '14px' }}\n                id=\"cardContent\"\n                align=\"center\"\n                component=\"div\"\n              >\n                jurisdictions will be assigned to:\n              </Typography>\n              <Typography\n                className={classes.cardContent}\n                style={{ fontSize: '14px', fontWeight: 'bold' }}\n                align=\"center\"\n                id=\"cardContent\"\n                component=\"div\"\n              >\n                {selectedVolunteer.email || 'no volunteer selected'}\n              </Typography>\n            </CardContent>\n            <CardActions className={classes.cardActions}>\n              <Button\n                className={classes.saveButton}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSubmit}\n                disabled={!(assigned.length || unassigned.length) || submitting}\n              >\n                {submitting ? (\n                  <CircularProgress\n                    size={20}\n                    variant=\"indeterminate\"\n                    color=\"primary\"\n                  />\n                ) : (\n                  'Save'\n                )}\n              </Button>\n            </CardActions>\n          </Card>\n        </Grid>\n        <Grid item xs={8}>\n          {/****************  JURISDICTION ASSIGNMENT  ****************/}\n          <TransferList\n            leftTitle=\"Unassigned Jurisdictions\"\n            rightTitle=\"Assign to Volunteer\"\n            leftItems={\n              assigned.length\n                ? Object.values(unassigned)\n                    .filter(\n                      (jdx) => !assigned.map((j) => j.id).includes(jdx.id)\n                    )\n                    .sort(sortByPropertyAsc('name'))\n                : Object.values(unassigned).sort(sortByPropertyAsc('name'))\n            }\n            rightItems={Object.values(assigned).sort(sortByPropertyAsc('name'))}\n            onTransferLeft={unassign}\n            onTransferRight={assign}\n            schema={{\n              value: 'id',\n              primaryText: 'name',\n              secondaryText: 'stateAbbrev',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default AssignJurisdictions\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Layout from 'components/core/Layout'\nimport AdminDashboard from 'components/admin/AdminDashboard'\nimport AssignJurisdictions from 'components/admin/AssignJurisdictions'\nimport WipEditor from 'components/WipEditor'\n\nconst Admin = () => {\n  return (\n    <Layout>\n      <Switch>\n        <Route exact path=\"/dashboard\" component={AdminDashboard} />\n        <Route path=\"/assign\" component={AssignJurisdictions} />\n        <Route path=\"/jurisdictions\" component={WipEditor} />\n        <Redirect to=\"/dashboard\" />\n      </Switch>\n    </Layout>\n  )\n}\n\nexport default Admin\n","import React, { useEffect } from 'react'\nimport { useAuth } from 'store/selectors'\nimport useAuthActions from 'store/actions/auth'\nimport Auth from 'components/routers/Auth'\nimport Volunteer from 'components/routers/Volunteer'\nimport Admin from 'components/routers/Admin'\n\nconst App = () => {\n  const { authChecked, user } = useAuth()\n  const { getUser } = useAuthActions()\n\n  useEffect(() => {\n    if (!authChecked) getUser()\n  }, [authChecked, getUser])\n\n  if (!authChecked) return null\n\n  switch (user?.role) {\n    case 'volunteer':\n      return <Volunteer />\n    case 'admin':\n      return <Admin />\n    default:\n      return <Auth />\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ToastProvider } from 'hooks/useToast'\nimport store from 'store'\nimport theme from 'theme'\nimport App from 'components/App'\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <ToastProvider>\n        <Router>\n          <App />\n        </Router>\n      </ToastProvider>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}